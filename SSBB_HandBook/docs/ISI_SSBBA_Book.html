<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.552">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Mallesham Yamulla">
<meta name="dcterms.date" content="2024-04-26">

<title>SixSigma Study On Improving PII/PHI Classifications in DataBreach Analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body>

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#python-code-snippets." id="toc-python-code-snippets." class="nav-link active" data-scroll-target="#python-code-snippets."><span class="header-section-number">1</span> Python Code Snippets.</a></li>
  <li><a href="#about-organization-and-team" id="toc-about-organization-and-team" class="nav-link" data-scroll-target="#about-organization-and-team"><span class="header-section-number">2</span> About Organization and team</a></li>
  <li><a href="#introduction-to-sixsigma-methodolgies." id="toc-introduction-to-sixsigma-methodolgies." class="nav-link" data-scroll-target="#introduction-to-sixsigma-methodolgies."><span class="header-section-number">3</span> Introduction to SixSigma methodolgies.</a></li>
  <li><a href="#dmaic-define" id="toc-dmaic-define" class="nav-link" data-scroll-target="#dmaic-define"><span class="header-section-number">4</span> DMAIC: Define</a>
  <ul class="collapse">
  <li><a href="#introduction." id="toc-introduction." class="nav-link" data-scroll-target="#introduction."><span class="header-section-number">4.1</span> Introduction.</a>
  <ul class="collapse">
  <li><a href="#introduction-to-document-review-and-classifications-how-to-capture-piiphi." id="toc-introduction-to-document-review-and-classifications-how-to-capture-piiphi." class="nav-link" data-scroll-target="#introduction-to-document-review-and-classifications-how-to-capture-piiphi."><span class="header-section-number">4.1.1</span> Introduction to document review and classifications – how to capture PII/PHI.</a></li>
  <li><a href="#introduction-to-databreach-discovery-analysis-process." id="toc-introduction-to-databreach-discovery-analysis-process." class="nav-link" data-scroll-target="#introduction-to-databreach-discovery-analysis-process."><span class="header-section-number">4.1.2</span> Introduction to DataBreach Discovery Analysis Process.</a></li>
  <li><a href="#databreach-analysis-data-extraction-process" id="toc-databreach-analysis-data-extraction-process" class="nav-link" data-scroll-target="#databreach-analysis-data-extraction-process"><span class="header-section-number">4.1.3</span> DataBreach Analysis-Data Extraction Process</a></li>
  </ul></li>
  <li><a href="#business-case." id="toc-business-case." class="nav-link" data-scroll-target="#business-case."><span class="header-section-number">4.2</span> Business Case.</a></li>
  <li><a href="#voice-of-customersvoc" id="toc-voice-of-customersvoc" class="nav-link" data-scroll-target="#voice-of-customersvoc"><span class="header-section-number">4.3</span> Voice Of Customers(VOC)</a></li>
  <li><a href="#process-map" id="toc-process-map" class="nav-link" data-scroll-target="#process-map"><span class="header-section-number">4.4</span> Process Map</a>
  <ul class="collapse">
  <li><a href="#sipoc" id="toc-sipoc" class="nav-link" data-scroll-target="#sipoc"><span class="header-section-number">4.4.1</span> SIPOC</a></li>
  </ul></li>
  <li><a href="#project-charter" id="toc-project-charter" class="nav-link" data-scroll-target="#project-charter"><span class="header-section-number">4.5</span> Project Charter</a></li>
  </ul></li>
  <li><a href="#dmaic-measure" id="toc-dmaic-measure" class="nav-link" data-scroll-target="#dmaic-measure"><span class="header-section-number">5</span> DMAIC: Measure</a>
  <ul class="collapse">
  <li><a href="#data-collection-plan." id="toc-data-collection-plan." class="nav-link" data-scroll-target="#data-collection-plan."><span class="header-section-number">5.1</span> Data Collection Plan.</a>
  <ul class="collapse">
  <li><a href="#metrics" id="toc-metrics" class="nav-link" data-scroll-target="#metrics"><span class="header-section-number">5.1.1</span> Metrics:</a></li>
  <li><a href="#glance-at-data" id="toc-glance-at-data" class="nav-link" data-scroll-target="#glance-at-data"><span class="header-section-number">5.1.2</span> Glance at Data</a></li>
  </ul></li>
  <li><a href="#establishing-performance-variable." id="toc-establishing-performance-variable." class="nav-link" data-scroll-target="#establishing-performance-variable."><span class="header-section-number">5.2</span> Establishing Performance Variable.</a></li>
  <li><a href="#performance-evaluation-stability-analysis." id="toc-performance-evaluation-stability-analysis." class="nav-link" data-scroll-target="#performance-evaluation-stability-analysis."><span class="header-section-number">5.3</span> Performance Evaluation-(Stability Analysis).</a>
  <ul class="collapse">
  <li><a href="#checking-process-stability" id="toc-checking-process-stability" class="nav-link" data-scroll-target="#checking-process-stability"><span class="header-section-number">5.3.1</span> Checking Process Stability</a></li>
  <li><a href="#study-on-assignable-causes" id="toc-study-on-assignable-causes" class="nav-link" data-scroll-target="#study-on-assignable-causes"><span class="header-section-number">5.3.2</span> Study on Assignable causes</a></li>
  </ul></li>
  <li><a href="#performance-evaluation-capability-analysis." id="toc-performance-evaluation-capability-analysis." class="nav-link" data-scroll-target="#performance-evaluation-capability-analysis."><span class="header-section-number">5.4</span> Performance Evaluation-(Capability Analysis).</a>
  <ul class="collapse">
  <li><a href="#business-specifications." id="toc-business-specifications." class="nav-link" data-scroll-target="#business-specifications."><span class="header-section-number">5.4.1</span> Business Specifications.</a></li>
  <li><a href="#performance-metrics" id="toc-performance-metrics" class="nav-link" data-scroll-target="#performance-metrics"><span class="header-section-number">5.4.2</span> Performance Metrics</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#dmaic-analyze" id="toc-dmaic-analyze" class="nav-link" data-scroll-target="#dmaic-analyze"><span class="header-section-number">6</span> DMAIC: Analyze</a>
  <ul class="collapse">
  <li><a href="#detailed-process-analysis" id="toc-detailed-process-analysis" class="nav-link" data-scroll-target="#detailed-process-analysis"><span class="header-section-number">6.1</span> Detailed Process Analysis</a>
  <ul class="collapse">
  <li><a href="#research-questions." id="toc-research-questions." class="nav-link" data-scroll-target="#research-questions."><span class="header-section-number">6.1.1</span> Research Questions.</a></li>
  <li><a href="#statistical-testinferences-on-research-questions." id="toc-statistical-testinferences-on-research-questions." class="nav-link" data-scroll-target="#statistical-testinferences-on-research-questions."><span class="header-section-number">6.1.2</span> Statistical Test/Inferences on Research Questions.</a></li>
  <li><a href="#study-on-root-causes-using-text-mining-techniques." id="toc-study-on-root-causes-using-text-mining-techniques." class="nav-link" data-scroll-target="#study-on-root-causes-using-text-mining-techniques."><span class="header-section-number">6.1.3</span> Study on Root Causes using text mining techniques.</a></li>
  <li><a href="#fmea" id="toc-fmea" class="nav-link" data-scroll-target="#fmea"><span class="header-section-number">6.1.4</span> FMEA</a></li>
  <li><a href="#pareto-analysis" id="toc-pareto-analysis" class="nav-link" data-scroll-target="#pareto-analysis"><span class="header-section-number">6.1.5</span> Pareto Analysis</a></li>
  <li><a href="#summary-potential-variation-sourcesroot-causes" id="toc-summary-potential-variation-sourcesroot-causes" class="nav-link" data-scroll-target="#summary-potential-variation-sourcesroot-causes"><span class="header-section-number">6.1.6</span> Summary: Potential Variation Sources(Root Causes)</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#dmaic-improve" id="toc-dmaic-improve" class="nav-link" data-scroll-target="#dmaic-improve"><span class="header-section-number">7</span> DMAIC: Improve</a>
  <ul class="collapse">
  <li><a href="#discover-variable-relationships" id="toc-discover-variable-relationships" class="nav-link" data-scroll-target="#discover-variable-relationships"><span class="header-section-number">7.1</span> Discover Variable Relationships</a></li>
  <li><a href="#develop-potential-solutions" id="toc-develop-potential-solutions" class="nav-link" data-scroll-target="#develop-potential-solutions"><span class="header-section-number">7.2</span> Develop Potential Solutions</a>
  <ul class="collapse">
  <li><a href="#machinelearning-modeling-classification-problem." id="toc-machinelearning-modeling-classification-problem." class="nav-link" data-scroll-target="#machinelearning-modeling-classification-problem."><span class="header-section-number">7.2.1</span> MachineLearning Modeling-Classification Problem.</a></li>
  <li><a href="#priliminary-machinelearning-modeling." id="toc-priliminary-machinelearning-modeling." class="nav-link" data-scroll-target="#priliminary-machinelearning-modeling."><span class="header-section-number">7.2.2</span> Priliminary MachineLearning Modeling.</a></li>
  <li><a href="#experimentationsmachinelearning-models-dealing-with-class-imbalance-problem." id="toc-experimentationsmachinelearning-models-dealing-with-class-imbalance-problem." class="nav-link" data-scroll-target="#experimentationsmachinelearning-models-dealing-with-class-imbalance-problem."><span class="header-section-number">7.2.3</span> Experimentations:MachineLearning Models-Dealing with Class Imbalance Problem.</a></li>
  <li><a href="#machinelearning-model-tuningevaluatingselectioninterpreting-and-finalizing." id="toc-machinelearning-model-tuningevaluatingselectioninterpreting-and-finalizing." class="nav-link" data-scroll-target="#machinelearning-model-tuningevaluatingselectioninterpreting-and-finalizing."><span class="header-section-number">7.2.4</span> MachineLearning Model Tuning,Evaluating,Selection,Interpreting and Finalizing.</a></li>
  <li><a href="#machinelearning-model-deployment-in-streamlit-cloud-app." id="toc-machinelearning-model-deployment-in-streamlit-cloud-app." class="nav-link" data-scroll-target="#machinelearning-model-deployment-in-streamlit-cloud-app."><span class="header-section-number">7.2.5</span> MachineLearning Model Deployment in Streamlit Cloud App.</a></li>
  </ul></li>
  <li><a href="#propose-validate-new-process." id="toc-propose-validate-new-process." class="nav-link" data-scroll-target="#propose-validate-new-process."><span class="header-section-number">7.3</span> Propose &amp; Validate New Process.</a>
  <ul class="collapse">
  <li><a href="#new-process-flow-diagram." id="toc-new-process-flow-diagram." class="nav-link" data-scroll-target="#new-process-flow-diagram."><span class="header-section-number">7.3.1</span> New Process Flow Diagram.</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#dmaic-control" id="toc-dmaic-control" class="nav-link" data-scroll-target="#dmaic-control"><span class="header-section-number">8</span> DMAIC: Control</a>
  <ul class="collapse">
  <li><a href="#establish-improved-performance." id="toc-establish-improved-performance." class="nav-link" data-scroll-target="#establish-improved-performance."><span class="header-section-number">8.1</span> Establish Improved Performance.</a>
  <ul class="collapse">
  <li><a href="#addressing-challenges-and-measuring-improvement" id="toc-addressing-challenges-and-measuring-improvement" class="nav-link" data-scroll-target="#addressing-challenges-and-measuring-improvement"><span class="header-section-number">8.1.1</span> Addressing Challenges and Measuring Improvement</a></li>
  <li><a href="#pilot-testing-and-metrics-collection" id="toc-pilot-testing-and-metrics-collection" class="nav-link" data-scroll-target="#pilot-testing-and-metrics-collection"><span class="header-section-number">8.1.2</span> Pilot Testing and Metrics Collection</a></li>
  <li><a href="#evaluating-success-with-statistical-methods" id="toc-evaluating-success-with-statistical-methods" class="nav-link" data-scroll-target="#evaluating-success-with-statistical-methods"><span class="header-section-number">8.1.3</span> Evaluating Success with Statistical Methods</a></li>
  </ul></li>
  <li><a href="#control-plan" id="toc-control-plan" class="nav-link" data-scroll-target="#control-plan"><span class="header-section-number">8.2</span> Control Plan</a></li>
  <li><a href="#project-sign-off" id="toc-project-sign-off" class="nav-link" data-scroll-target="#project-sign-off"><span class="header-section-number">8.3</span> Project Sign-Off</a></li>
  <li><a href="#project-summary" id="toc-project-summary" class="nav-link" data-scroll-target="#project-summary"><span class="header-section-number">8.4</span> Project Summary</a></li>
  <li><a href="#executive-summary" id="toc-executive-summary" class="nav-link" data-scroll-target="#executive-summary"><span class="header-section-number">8.5</span> Executive Summary</a></li>
  </ul></li>
  <li><a href="#bibliography" id="toc-bibliography" class="nav-link" data-scroll-target="#bibliography"><span class="header-section-number">9</span> Bibliography</a>
  <ul class="collapse">
  <li><a href="#refereces-books-and-tools" id="toc-refereces-books-and-tools" class="nav-link" data-scroll-target="#refereces-books-and-tools"><span class="header-section-number">9.1</span> Refereces-Books and Tools</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">SixSigma Study On Improving PII/PHI Classifications in DataBreach Analysis</h1>
<p class="subtitle lead">Indian Statistical Institute-Hyderabad</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Mallesham Yamulla </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">April 26, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="python-code-snippets." class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Python Code Snippets.</h1>
<div id="caa31cb2" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> math</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> re</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> warnings</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> polars <span class="im">as</span> pl</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> statsmodels.api <span class="im">as</span> sm</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> statsmodels.graphics.gofplots <span class="im">as</span> gof</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> xgboost <span class="im">as</span> xgb</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> feature_engine.encoding <span class="im">import</span> OrdinalEncoder</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy <span class="im">import</span> stats</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.stats <span class="im">import</span> (</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    chi2_contingency,</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>    chisquare,</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>    mannwhitneyu,</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>    norm,</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>    poisson,</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>    ttest_1samp,</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>    ttest_ind,</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>    wilcoxon,</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.ensemble <span class="im">import</span> (</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>    GradientBoostingClassifier,</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>    GradientBoostingRegressor,</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>    RandomForestClassifier,</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>    RandomForestRegressor,</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.feature_extraction.text <span class="im">import</span> TfidfVectorizer</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.linear_model <span class="im">import</span> LinearRegression, LogisticRegression</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> (</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>    ConfusionMatrixDisplay,</span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>    RocCurveDisplay,</span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>    accuracy_score,</span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>    confusion_matrix,</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>    f1_score,</span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>    mean_squared_error,</span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>    precision_score,</span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>    r2_score,</span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>    recall_score,</span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>    roc_auc_score,</span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>    root_mean_squared_error,</span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> (</span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a>    GridSearchCV,</span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a>    RandomizedSearchCV,</span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a>    cross_validate,</span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a>    train_test_split,</span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.naive_bayes <span class="im">import</span> GaussianNB</span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.neighbors <span class="im">import</span> KNeighborsClassifier, KNeighborsRegressor</span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> StandardScaler</span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.svm <span class="im">import</span> SVC, SVR</span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.tree <span class="im">import</span> DecisionTreeClassifier, DecisionTreeRegressor</span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> statsmodels.formula.api <span class="im">import</span> ols</span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> statsmodels.stats <span class="im">import</span> outliers_influence <span class="im">as</span> sm_oi</span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> statsmodels.stats.anova <span class="im">import</span> anova_lm</span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> statsmodels.stats.descriptivestats <span class="im">import</span> sign_test</span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> statsmodels.stats.proportion <span class="im">import</span> proportions_ztest</span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> spacy</span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> wordcloud <span class="im">import</span> WordCloud</span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> imblearn.over_sampling <span class="im">import</span> SMOTE, RandomOverSampler</span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> imblearn.pipeline <span class="im">import</span> make_pipeline</span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> imblearn.under_sampling <span class="im">import</span> AllKNN, NearMiss, RandomUnderSampler, TomekLinks</span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a>sns.set_theme(<span class="st">"notebook"</span>, style<span class="op">=</span><span class="st">"whitegrid"</span>)</span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a>warnings.filterwarnings(<span class="st">"ignore"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="f33f51ed" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate_center_line(data, column_name):</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Calculates the center line for the control chart."""</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> data[column_name].mean()</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate_control_limits(center, average_defects_per_unit, multiplier):</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Calculates upper and lower control limits."""</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    std_dev <span class="op">=</span> np.sqrt(average_defects_per_unit)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    upper_limit <span class="op">=</span> center <span class="op">+</span> multiplier <span class="op">*</span> std_dev</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    lower_limit <span class="op">=</span> center <span class="op">-</span> multiplier <span class="op">*</span> std_dev</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> upper_limit, lower_limit</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> create_c_chart(data):</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Creates a C chart for the given data."""</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>    center_line <span class="op">=</span> calculate_center_line(data, <span class="st">"no_of_resources"</span>)</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>    control_limits <span class="op">=</span> calculate_control_limits(</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>        center_line, center_line, <span class="dv">3</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>    )  <span class="co"># 3 sigma limits</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>    plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>    plt.plot(data[<span class="st">"row_nr"</span>], data[<span class="st">"no_of_resources"</span>], <span class="st">"o-"</span>, label<span class="op">=</span><span class="st">"no_of_resources"</span>)</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>    plt.axhline(y<span class="op">=</span>center_line, color<span class="op">=</span><span class="st">"r"</span>, linestyle<span class="op">=</span><span class="st">"--"</span>, label<span class="op">=</span><span class="st">"Center Line"</span>)</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>    plt.axhline(y<span class="op">=</span>control_limits[<span class="dv">0</span>], color<span class="op">=</span><span class="st">"b"</span>, linestyle<span class="op">=</span><span class="st">"--"</span>, label<span class="op">=</span><span class="st">"UCL"</span>)</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>    plt.axhline(y<span class="op">=</span>control_limits[<span class="dv">1</span>], color<span class="op">=</span><span class="st">"b"</span>, linestyle<span class="op">=</span><span class="st">"--"</span>, label<span class="op">=</span><span class="st">"LCL"</span>)</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>    plt.xlabel(<span class="st">"Project"</span>)</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>    plt.ylabel(<span class="st">"Number of Resources"</span>)</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>    plt.title(<span class="st">"C Chart"</span>)</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>    plt.legend()</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>    plt.grid(<span class="va">True</span>)</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>    plt.show()</span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> create_run_chart(data, column_name):</span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Creates a run chart for the given data."""</span></span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>    plt.figure(figsize<span class="op">=</span>(<span class="dv">18</span>, <span class="dv">6</span>))</span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a>    plt.plot(data.index, data[column_name], marker<span class="op">=</span><span class="st">"o"</span>, linestyle<span class="op">=</span><span class="st">"-"</span>)</span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a>    plt.xlabel(</span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Projects-From Jan to Dec-2023"</span></span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>    )  <span class="co"># Assuming the index represents time periods</span></span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a>    plt.ylabel(column_name)  <span class="co"># Replace with the actual column name</span></span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a>    plt.title(<span class="st">"Run Chart for "</span> <span class="op">+</span> column_name)</span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a>    plt.grid(<span class="va">True</span>)</span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a>    plt.show()</span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> custom_ols_qqplot(_resid):</span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Q-Q Plot of residuals"""</span></span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a>    gof.qqplot(_resid, line<span class="op">=</span><span class="st">"s"</span>)</span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a>    plt.xlabel(<span class="st">"Theoritical Quantiles."</span>)</span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a>    plt.ylabel(<span class="st">"Sample Quantiles."</span>)</span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a>    plt.title(<span class="st">"Normal Q-Q plot"</span>)</span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true" tabindex="-1"></a>    plt.show()</span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-54"><a href="#cb2-54" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_six_sigma_caluclator():</span>
<span id="cb2-55"><a href="#cb2-55" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""ISI Custom SixSigma Calucator"""</span></span>
<span id="cb2-56"><a href="#cb2-56" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="va">True</span>:</span>
<span id="cb2-57"><a href="#cb2-57" aria-hidden="true" tabindex="-1"></a>        <span class="co">### Inputs</span></span>
<span id="cb2-58"><a href="#cb2-58" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"---------"</span>)</span>
<span id="cb2-59"><a href="#cb2-59" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"############ Sigma Caluclator Inputs ############"</span>)</span>
<span id="cb2-60"><a href="#cb2-60" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"---------"</span>)</span>
<span id="cb2-61"><a href="#cb2-61" aria-hidden="true" tabindex="-1"></a>        _mean <span class="op">=</span> <span class="bu">float</span>(<span class="bu">input</span>(<span class="st">"Enter the mean:"</span>))</span>
<span id="cb2-62"><a href="#cb2-62" aria-hidden="true" tabindex="-1"></a>        _sd <span class="op">=</span> <span class="bu">float</span>(<span class="bu">input</span>(<span class="st">"Enter Standard Deviation:"</span>))</span>
<span id="cb2-63"><a href="#cb2-63" aria-hidden="true" tabindex="-1"></a>        _LSL <span class="op">=</span> <span class="bu">float</span>(<span class="bu">input</span>(<span class="st">"Enter LSL:"</span>))</span>
<span id="cb2-64"><a href="#cb2-64" aria-hidden="true" tabindex="-1"></a>        _USL <span class="op">=</span> <span class="bu">float</span>(<span class="bu">input</span>(<span class="st">"Enter USL:"</span>))</span>
<span id="cb2-65"><a href="#cb2-65" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Formulas and caluclations</span></span>
<span id="cb2-66"><a href="#cb2-66" aria-hidden="true" tabindex="-1"></a>        ZLSL <span class="op">=</span> (_LSL <span class="op">-</span> _mean) <span class="op">/</span> _sd</span>
<span id="cb2-67"><a href="#cb2-67" aria-hidden="true" tabindex="-1"></a>        ZUSL <span class="op">=</span> (_USL <span class="op">-</span> _mean) <span class="op">/</span> _sd</span>
<span id="cb2-68"><a href="#cb2-68" aria-hidden="true" tabindex="-1"></a>        Area_ZLSL <span class="op">=</span> norm.cdf(ZLSL)</span>
<span id="cb2-69"><a href="#cb2-69" aria-hidden="true" tabindex="-1"></a>        Area_ZUSL <span class="op">=</span> <span class="dv">1</span> <span class="op">-</span> norm.cdf(ZUSL)</span>
<span id="cb2-70"><a href="#cb2-70" aria-hidden="true" tabindex="-1"></a>        TOTAL_NC <span class="op">=</span> Area_ZLSL <span class="op">+</span> Area_ZUSL</span>
<span id="cb2-71"><a href="#cb2-71" aria-hidden="true" tabindex="-1"></a>        YIELD <span class="op">=</span> <span class="dv">1</span> <span class="op">-</span> TOTAL_NC</span>
<span id="cb2-72"><a href="#cb2-72" aria-hidden="true" tabindex="-1"></a>        CP_ <span class="op">=</span> (_USL <span class="op">-</span> _LSL) <span class="op">/</span> (<span class="dv">6</span> <span class="op">*</span> _sd)</span>
<span id="cb2-73"><a href="#cb2-73" aria-hidden="true" tabindex="-1"></a>        _A <span class="op">=</span> (_USL <span class="op">-</span> _mean) <span class="op">/</span> (<span class="dv">3</span> <span class="op">*</span> _sd)</span>
<span id="cb2-74"><a href="#cb2-74" aria-hidden="true" tabindex="-1"></a>        _B <span class="op">=</span> (_mean <span class="op">-</span> _LSL) <span class="op">/</span> (<span class="dv">3</span> <span class="op">*</span> _sd)</span>
<span id="cb2-75"><a href="#cb2-75" aria-hidden="true" tabindex="-1"></a>        CPK_ <span class="op">=</span> <span class="bu">min</span>(_A, _B)</span>
<span id="cb2-76"><a href="#cb2-76" aria-hidden="true" tabindex="-1"></a>        SIGMA_LEVEL <span class="op">=</span> <span class="bu">round</span>(<span class="fl">1.5</span> <span class="op">+</span> norm.ppf(YIELD), <span class="dv">5</span>)</span>
<span id="cb2-77"><a href="#cb2-77" aria-hidden="true" tabindex="-1"></a>        DPMO <span class="op">=</span> TOTAL_NC <span class="op">*</span> <span class="dv">1000000</span></span>
<span id="cb2-78"><a href="#cb2-78" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Output</span></span>
<span id="cb2-79"><a href="#cb2-79" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"---------"</span>)</span>
<span id="cb2-80"><a href="#cb2-80" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"#### Summary Report ####"</span>)</span>
<span id="cb2-81"><a href="#cb2-81" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"---------"</span>)</span>
<span id="cb2-82"><a href="#cb2-82" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"Total NonConfirmances:</span><span class="sc">{</span><span class="bu">round</span>(TOTAL_NC,<span class="dv">5</span>)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb2-83"><a href="#cb2-83" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"Yield:</span><span class="sc">{</span><span class="bu">round</span>(YIELD,<span class="dv">5</span>)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb2-84"><a href="#cb2-84" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"CP:</span><span class="sc">{</span><span class="bu">round</span>(CP_,<span class="dv">5</span>)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb2-85"><a href="#cb2-85" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"CPK:</span><span class="sc">{</span><span class="bu">round</span>(CPK_,<span class="dv">5</span>)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb2-86"><a href="#cb2-86" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"SIGMA_LEVEL:</span><span class="sc">{</span><span class="bu">round</span>(SIGMA_LEVEL,<span class="dv">5</span>)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb2-87"><a href="#cb2-87" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"DPMO:</span><span class="sc">{</span><span class="bu">round</span>(DPMO,<span class="dv">5</span>)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb2-88"><a href="#cb2-88" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"---------"</span>)</span>
<span id="cb2-89"><a href="#cb2-89" aria-hidden="true" tabindex="-1"></a>        _next <span class="op">=</span> <span class="bu">input</span>(</span>
<span id="cb2-90"><a href="#cb2-90" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Would you like to continue to use sigma caluclator type 'yes' if so :"</span></span>
<span id="cb2-91"><a href="#cb2-91" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb2-92"><a href="#cb2-92" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> _next.lower() <span class="op">==</span> <span class="st">"yes"</span>:</span>
<span id="cb2-93"><a href="#cb2-93" aria-hidden="true" tabindex="-1"></a>            <span class="cf">continue</span></span>
<span id="cb2-94"><a href="#cb2-94" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb2-95"><a href="#cb2-95" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"Thanks for using Sigma Caluclator.."</span>)</span>
<span id="cb2-96"><a href="#cb2-96" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"#### END ####"</span>)</span>
<span id="cb2-97"><a href="#cb2-97" aria-hidden="true" tabindex="-1"></a>            <span class="cf">break</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="2a5ab861" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># TEXT MINING FUNCTIONS</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_tidy_text(_txt):</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    _doc <span class="op">=</span> DBAS_NLP(_txt)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    _tidy_word <span class="op">=</span> [token.text <span class="cf">for</span> token <span class="kw">in</span> _doc <span class="cf">if</span> <span class="kw">not</span> token.is_stop]</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">" "</span>.join(_tidy_word)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_lemma_pos(_txt):</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    _doc <span class="op">=</span> DBAS_NLP(_txt)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    _d <span class="op">=</span> {<span class="st">"_POS"</span>: [], <span class="st">"_LEMMA"</span>: []}</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> _token <span class="kw">in</span> _doc:</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>        _d[<span class="st">"_POS"</span>].append(_token.pos_)</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>        _d[<span class="st">"_LEMMA"</span>].append(_token.lemma_)</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> _d</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> _generate_word_cloud(_txt):</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>    x, y <span class="op">=</span> np.ogrid[:<span class="dv">300</span>, :<span class="dv">300</span>]</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>    mask <span class="op">=</span> (x <span class="op">-</span> <span class="dv">150</span>) <span class="op">**</span> <span class="dv">2</span> <span class="op">+</span> (y <span class="op">-</span> <span class="dv">150</span>) <span class="op">**</span> <span class="dv">2</span> <span class="op">&gt;</span> <span class="dv">130</span><span class="op">**</span><span class="dv">2</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>    mask <span class="op">=</span> <span class="dv">255</span> <span class="op">*</span> mask.astype(<span class="bu">int</span>)</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>    wc <span class="op">=</span> WordCloud(background_color<span class="op">=</span><span class="st">"white"</span>, repeat<span class="op">=</span><span class="va">True</span>, mask<span class="op">=</span>mask)</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>    wc.generate(_txt)</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>    plt.axis(<span class="st">"off"</span>)</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>    plt.imshow(wc, interpolation<span class="op">=</span><span class="st">"bilinear"</span>)</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>    plt.show()</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_word_rep(_word, _rep):</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>    repeated_word <span class="op">=</span> <span class="ss">f"</span><span class="sc">{</span>_word<span class="sc">}</span><span class="ss"> "</span> <span class="op">*</span> _rep</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> repeated_word</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>df_challenges <span class="op">=</span> pl.read_csv(</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>    <span class="vs">r"/Users/malleshamyamulla/Desktop/SSBBA/MBB_PROJECT/data/dbas_sds_challenges.csv"</span></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>).with_row_count()</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>los_samples <span class="op">=</span> []</span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10</span>):</span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>    _df <span class="op">=</span> df_challenges.sample(<span class="dv">15</span>, with_replacement<span class="op">=</span><span class="va">False</span>,seed<span class="op">=</span><span class="dv">100</span>)</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>    los_samples.append(_df)</span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>df_conso <span class="op">=</span> pl.concat(los_samples).to_pandas()</span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>DBAS_NLP <span class="op">=</span> spacy.load(</span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>    <span class="st">"en_core_web_sm"</span></span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>df_conso[<span class="st">"_tidy_text_1"</span>] <span class="op">=</span> df_conso[<span class="st">"#CHALLENGE"</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: get_tidy_text(x))</span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a>los_doc_dicts <span class="op">=</span> []</span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> _sen <span class="kw">in</span> df_conso[<span class="st">"_tidy_text_1"</span>]:</span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a>    _d <span class="op">=</span> get_lemma_pos(_sen)</span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a>    los_doc_dicts.append(_d)</span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a>los_dfs <span class="op">=</span> []</span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> _d <span class="kw">in</span> los_doc_dicts:</span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a>    _DF <span class="op">=</span> pd.DataFrame(_d)</span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a>    los_dfs.append(_DF)</span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-56"><a href="#cb3-56" aria-hidden="true" tabindex="-1"></a>DF_POS <span class="op">=</span> pd.concat(los_dfs)</span>
<span id="cb3-57"><a href="#cb3-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-58"><a href="#cb3-58" aria-hidden="true" tabindex="-1"></a>DF_POS_TIDY <span class="op">=</span> DF_POS[DF_POS[<span class="st">"_POS"</span>] <span class="op">!=</span> <span class="st">"PUNCT"</span>]</span>
<span id="cb3-59"><a href="#cb3-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-60"><a href="#cb3-60" aria-hidden="true" tabindex="-1"></a>_LOS_NOUNS <span class="op">=</span> (</span>
<span id="cb3-61"><a href="#cb3-61" aria-hidden="true" tabindex="-1"></a>    DF_POS_TIDY[DF_POS_TIDY[<span class="st">"_POS"</span>] <span class="op">==</span> <span class="st">"NOUN"</span>]</span>
<span id="cb3-62"><a href="#cb3-62" aria-hidden="true" tabindex="-1"></a>    .groupby(<span class="st">"_LEMMA"</span>)</span>
<span id="cb3-63"><a href="#cb3-63" aria-hidden="true" tabindex="-1"></a>    .count()</span>
<span id="cb3-64"><a href="#cb3-64" aria-hidden="true" tabindex="-1"></a>    .reset_index()</span>
<span id="cb3-65"><a href="#cb3-65" aria-hidden="true" tabindex="-1"></a>    .sort_values(<span class="st">"_POS"</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb3-66"><a href="#cb3-66" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-67"><a href="#cb3-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-68"><a href="#cb3-68" aria-hidden="true" tabindex="-1"></a>_ADJCT <span class="op">=</span> (</span>
<span id="cb3-69"><a href="#cb3-69" aria-hidden="true" tabindex="-1"></a>    DF_POS_TIDY[DF_POS_TIDY[<span class="st">"_POS"</span>] <span class="op">==</span> <span class="st">"ADJ"</span>]</span>
<span id="cb3-70"><a href="#cb3-70" aria-hidden="true" tabindex="-1"></a>    .groupby(<span class="st">"_LEMMA"</span>)</span>
<span id="cb3-71"><a href="#cb3-71" aria-hidden="true" tabindex="-1"></a>    .count()</span>
<span id="cb3-72"><a href="#cb3-72" aria-hidden="true" tabindex="-1"></a>    .reset_index()</span>
<span id="cb3-73"><a href="#cb3-73" aria-hidden="true" tabindex="-1"></a>    .sort_values(<span class="st">"_POS"</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb3-74"><a href="#cb3-74" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-75"><a href="#cb3-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-76"><a href="#cb3-76" aria-hidden="true" tabindex="-1"></a>_VERBS <span class="op">=</span> (</span>
<span id="cb3-77"><a href="#cb3-77" aria-hidden="true" tabindex="-1"></a>    DF_POS_TIDY[DF_POS_TIDY[<span class="st">"_POS"</span>] <span class="op">==</span> <span class="st">"VERB"</span>]</span>
<span id="cb3-78"><a href="#cb3-78" aria-hidden="true" tabindex="-1"></a>    .groupby(<span class="st">"_LEMMA"</span>)</span>
<span id="cb3-79"><a href="#cb3-79" aria-hidden="true" tabindex="-1"></a>    .count()</span>
<span id="cb3-80"><a href="#cb3-80" aria-hidden="true" tabindex="-1"></a>    .reset_index()</span>
<span id="cb3-81"><a href="#cb3-81" aria-hidden="true" tabindex="-1"></a>    .sort_values(<span class="st">"_POS"</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb3-82"><a href="#cb3-82" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-83"><a href="#cb3-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-84"><a href="#cb3-84" aria-hidden="true" tabindex="-1"></a>LOS_VERBS <span class="op">=</span> _VERBS[[<span class="st">"_LEMMA"</span>, <span class="st">"_POS"</span>]].<span class="bu">apply</span>(<span class="kw">lambda</span> x: get_word_rep(x[<span class="dv">0</span>], x[<span class="dv">1</span>]), axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb3-85"><a href="#cb3-85" aria-hidden="true" tabindex="-1"></a>LOS_NOUNS <span class="op">=</span> _LOS_NOUNS[[<span class="st">"_LEMMA"</span>, <span class="st">"_POS"</span>]].<span class="bu">apply</span>(<span class="kw">lambda</span> x: get_word_rep(x[<span class="dv">0</span>], x[<span class="dv">1</span>]), axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb3-86"><a href="#cb3-86" aria-hidden="true" tabindex="-1"></a>LOS_ADJ <span class="op">=</span> _ADJCT[[<span class="st">"_LEMMA"</span>, <span class="st">"_POS"</span>]].<span class="bu">apply</span>(<span class="kw">lambda</span> x: get_word_rep(x[<span class="dv">0</span>], x[<span class="dv">1</span>]), axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb3-87"><a href="#cb3-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-88"><a href="#cb3-88" aria-hidden="true" tabindex="-1"></a>todos_verb_list <span class="op">=</span> []</span>
<span id="cb3-89"><a href="#cb3-89" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> _verb <span class="kw">in</span> LOS_VERBS:</span>
<span id="cb3-90"><a href="#cb3-90" aria-hidden="true" tabindex="-1"></a>    _vs <span class="op">=</span> _verb.split(<span class="st">" "</span>)</span>
<span id="cb3-91"><a href="#cb3-91" aria-hidden="true" tabindex="-1"></a>    todos_verb_list.extend(_vs)</span>
<span id="cb3-92"><a href="#cb3-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-93"><a href="#cb3-93" aria-hidden="true" tabindex="-1"></a>todos_noun_list <span class="op">=</span> []</span>
<span id="cb3-94"><a href="#cb3-94" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> _verb <span class="kw">in</span> LOS_NOUNS:</span>
<span id="cb3-95"><a href="#cb3-95" aria-hidden="true" tabindex="-1"></a>    _vs <span class="op">=</span> _verb.split(<span class="st">" "</span>)</span>
<span id="cb3-96"><a href="#cb3-96" aria-hidden="true" tabindex="-1"></a>    todos_noun_list.extend(_vs)</span>
<span id="cb3-97"><a href="#cb3-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-98"><a href="#cb3-98" aria-hidden="true" tabindex="-1"></a>todos_adj_list <span class="op">=</span> []</span>
<span id="cb3-99"><a href="#cb3-99" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> _verb <span class="kw">in</span> LOS_ADJ:</span>
<span id="cb3-100"><a href="#cb3-100" aria-hidden="true" tabindex="-1"></a>    _vs <span class="op">=</span> _verb.split(<span class="st">" "</span>)</span>
<span id="cb3-101"><a href="#cb3-101" aria-hidden="true" tabindex="-1"></a>    todos_adj_list.extend(_vs)</span>
<span id="cb3-102"><a href="#cb3-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-103"><a href="#cb3-103" aria-hidden="true" tabindex="-1"></a>text_verb <span class="op">=</span> <span class="st">" "</span>.join([_word <span class="cf">for</span> _word <span class="kw">in</span> todos_verb_list <span class="cf">if</span> <span class="bu">len</span>(_word) <span class="op">!=</span> <span class="dv">0</span>])</span>
<span id="cb3-104"><a href="#cb3-104" aria-hidden="true" tabindex="-1"></a>text_noun <span class="op">=</span> <span class="st">" "</span>.join([_word <span class="cf">for</span> _word <span class="kw">in</span> todos_noun_list <span class="cf">if</span> <span class="bu">len</span>(_word) <span class="op">!=</span> <span class="dv">0</span>])</span>
<span id="cb3-105"><a href="#cb3-105" aria-hidden="true" tabindex="-1"></a>text_adj <span class="op">=</span> <span class="st">" "</span>.join([_word <span class="cf">for</span> _word <span class="kw">in</span> todos_adj_list <span class="cf">if</span> <span class="bu">len</span>(_word) <span class="op">!=</span> <span class="dv">0</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="9a8da064" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">## ANALYZE PHASE CODE</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>df_org <span class="op">=</span> (</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    pl.read_csv(</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>        <span class="vs">r"/Users/malleshamyamulla/Desktop/SSBBA/MBB_PROJECT/data/DBAS_Projects_Data_Tidy_V3.csv"</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    .drop([<span class="st">"Started Date"</span>, <span class="st">"Complete Date"</span>, <span class="st">"NO_OF_DAYS"</span>, <span class="st">"NO_OF_SERVICE_WORKING_HRS"</span>])</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    .with_columns(pl.col(<span class="st">"Project Name"</span>).<span class="bu">str</span>.replace_all(<span class="st">"PROJECT"</span>, <span class="st">"P"</span>))</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>).<span class="bu">filter</span>(pl.col(<span class="st">"accuracy_"</span>).is_not_null())</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>df_org.columns <span class="op">=</span> [</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Pname"</span>,</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">"#Files"</span>,</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"#Days"</span>,</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"#Analyst"</span>,</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"#PII_PHI"</span>,</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">"#FPS"</span>,</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">"#FNS"</span>,</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">"FPS_FNS"</span>,</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">"TPS_TNS"</span>,</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Accuracy"</span>,</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>DF_SSBB <span class="op">=</span> df_org.<span class="bu">filter</span>((pl.col(<span class="st">"#Files"</span>) <span class="op">&gt;</span> <span class="dv">10</span>) <span class="op">&amp;</span> (pl.col(<span class="st">"#Files"</span>) <span class="op">&lt;</span> <span class="dv">10000</span>))</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>DF_SSBB_V2 <span class="op">=</span> (</span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>    DF_SSBB.with_columns(</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>        (pl.col(<span class="st">"#PII_PHI"</span>) <span class="op">/</span> pl.col(<span class="st">"#Files"</span>)).alias(<span class="st">"prop_of_pii_phi"</span>)</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>    .with_columns(</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>        pl.when((pl.col(<span class="st">"#Days"</span>) <span class="op">&gt;=</span> <span class="dv">1</span>) <span class="op">&amp;</span> (pl.col(<span class="st">"#Days"</span>) <span class="op">&lt;</span> <span class="dv">8</span>))</span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>        .then(pl.lit(<span class="st">"1W"</span>).alias(<span class="st">"weeks_bucket"</span>))</span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>        .otherwise(<span class="va">None</span>)</span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>    .with_columns(</span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>        pl.when((pl.col(<span class="st">"#Days"</span>) <span class="op">&gt;=</span> <span class="dv">8</span>) <span class="op">&amp;</span> (pl.col(<span class="st">"#Days"</span>) <span class="op">&lt;</span> <span class="dv">15</span>))</span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>        .then(pl.lit(<span class="st">"2W"</span>).alias(<span class="st">"weeks_bucket"</span>))</span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>        .otherwise(pl.col(<span class="st">"weeks_bucket"</span>))</span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>    .with_columns(</span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>        pl.when((pl.col(<span class="st">"#Days"</span>) <span class="op">&gt;=</span> <span class="dv">15</span>) <span class="op">&amp;</span> (pl.col(<span class="st">"#Days"</span>) <span class="op">&lt;</span> <span class="dv">22</span>))</span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a>        .then(pl.lit(<span class="st">"3W"</span>).alias(<span class="st">"weeks_bucket"</span>))</span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a>        .otherwise(pl.col(<span class="st">"weeks_bucket"</span>))</span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a>    .with_columns(</span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a>        pl.when((pl.col(<span class="st">"#Days"</span>) <span class="op">&gt;=</span> <span class="dv">22</span>) <span class="op">&amp;</span> (pl.col(<span class="st">"#Days"</span>) <span class="op">&lt;</span> <span class="dv">29</span>))</span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a>        .then(pl.lit(<span class="st">"4W"</span>).alias(<span class="st">"weeks_bucket"</span>))</span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>        .otherwise(pl.col(<span class="st">"weeks_bucket"</span>))</span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a>    .with_columns(</span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a>        pl.when((pl.col(<span class="st">"#Days"</span>) <span class="op">&gt;=</span> <span class="dv">29</span>))</span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a>        .then(pl.lit(<span class="st">"more than 4 weeks"</span>).alias(<span class="st">"weeks_bucket"</span>))</span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a>        .otherwise(pl.col(<span class="st">"weeks_bucket"</span>))</span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a>    .with_columns(</span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a>        pl.when((pl.col(<span class="st">"#PII_PHI"</span>) <span class="op">&gt;=</span> <span class="dv">1</span>) <span class="op">&amp;</span> (pl.col(<span class="st">"#PII_PHI"</span>) <span class="op">&lt;</span> <span class="dv">101</span>))</span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a>        .then(pl.lit(<span class="st">"1-100"</span>).alias(<span class="st">"pii_phi_bucket"</span>))</span>
<span id="cb4-58"><a href="#cb4-58" aria-hidden="true" tabindex="-1"></a>        .otherwise(<span class="va">None</span>)</span>
<span id="cb4-59"><a href="#cb4-59" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb4-60"><a href="#cb4-60" aria-hidden="true" tabindex="-1"></a>    .with_columns(</span>
<span id="cb4-61"><a href="#cb4-61" aria-hidden="true" tabindex="-1"></a>        [</span>
<span id="cb4-62"><a href="#cb4-62" aria-hidden="true" tabindex="-1"></a>            pl.when((pl.col(<span class="st">"#PII_PHI"</span>) <span class="op">&gt;=</span> <span class="dv">101</span>) <span class="op">&amp;</span> (pl.col(<span class="st">"#PII_PHI"</span>) <span class="op">&lt;</span> <span class="dv">501</span>))</span>
<span id="cb4-63"><a href="#cb4-63" aria-hidden="true" tabindex="-1"></a>            .then(pl.lit(<span class="st">"101-500"</span>).alias(<span class="st">"pii_phi_bucket"</span>))</span>
<span id="cb4-64"><a href="#cb4-64" aria-hidden="true" tabindex="-1"></a>            .otherwise(pl.col(<span class="st">"pii_phi_bucket"</span>)),</span>
<span id="cb4-65"><a href="#cb4-65" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb4-66"><a href="#cb4-66" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb4-67"><a href="#cb4-67" aria-hidden="true" tabindex="-1"></a>    .with_columns(</span>
<span id="cb4-68"><a href="#cb4-68" aria-hidden="true" tabindex="-1"></a>        [</span>
<span id="cb4-69"><a href="#cb4-69" aria-hidden="true" tabindex="-1"></a>            pl.when((pl.col(<span class="st">"#PII_PHI"</span>) <span class="op">&gt;=</span> <span class="dv">501</span>) <span class="op">&amp;</span> (pl.col(<span class="st">"#PII_PHI"</span>) <span class="op">&lt;</span> <span class="dv">1001</span>))</span>
<span id="cb4-70"><a href="#cb4-70" aria-hidden="true" tabindex="-1"></a>            .then(pl.lit(<span class="st">"500-1000"</span>).alias(<span class="st">"pii_phi_bucket"</span>))</span>
<span id="cb4-71"><a href="#cb4-71" aria-hidden="true" tabindex="-1"></a>            .otherwise(pl.col(<span class="st">"pii_phi_bucket"</span>)),</span>
<span id="cb4-72"><a href="#cb4-72" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb4-73"><a href="#cb4-73" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb4-74"><a href="#cb4-74" aria-hidden="true" tabindex="-1"></a>    .with_columns(</span>
<span id="cb4-75"><a href="#cb4-75" aria-hidden="true" tabindex="-1"></a>        [</span>
<span id="cb4-76"><a href="#cb4-76" aria-hidden="true" tabindex="-1"></a>            pl.when((pl.col(<span class="st">"#PII_PHI"</span>) <span class="op">&gt;=</span> <span class="dv">1001</span>) <span class="op">&amp;</span> (pl.col(<span class="st">"#PII_PHI"</span>) <span class="op">&lt;</span> <span class="dv">5001</span>))</span>
<span id="cb4-77"><a href="#cb4-77" aria-hidden="true" tabindex="-1"></a>            .then(pl.lit(<span class="st">"1000-5000"</span>).alias(<span class="st">"pii_phi_bucket"</span>))</span>
<span id="cb4-78"><a href="#cb4-78" aria-hidden="true" tabindex="-1"></a>            .otherwise(pl.col(<span class="st">"pii_phi_bucket"</span>)),</span>
<span id="cb4-79"><a href="#cb4-79" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb4-80"><a href="#cb4-80" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb4-81"><a href="#cb4-81" aria-hidden="true" tabindex="-1"></a>    .with_columns(</span>
<span id="cb4-82"><a href="#cb4-82" aria-hidden="true" tabindex="-1"></a>        [</span>
<span id="cb4-83"><a href="#cb4-83" aria-hidden="true" tabindex="-1"></a>            pl.when((pl.col(<span class="st">"#PII_PHI"</span>) <span class="op">&gt;=</span> <span class="dv">5001</span>))</span>
<span id="cb4-84"><a href="#cb4-84" aria-hidden="true" tabindex="-1"></a>            .then(pl.lit(<span class="st">"more than 5K"</span>).alias(<span class="st">"pii_phi_bucket"</span>))</span>
<span id="cb4-85"><a href="#cb4-85" aria-hidden="true" tabindex="-1"></a>            .otherwise(pl.col(<span class="st">"pii_phi_bucket"</span>)),</span>
<span id="cb4-86"><a href="#cb4-86" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb4-87"><a href="#cb4-87" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb4-88"><a href="#cb4-88" aria-hidden="true" tabindex="-1"></a>    .with_columns(</span>
<span id="cb4-89"><a href="#cb4-89" aria-hidden="true" tabindex="-1"></a>        pl.when(pl.col(<span class="st">"#FPS"</span>) <span class="op">&gt;</span> pl.col(<span class="st">"#FNS"</span>))</span>
<span id="cb4-90"><a href="#cb4-90" aria-hidden="true" tabindex="-1"></a>        .then(pl.lit(<span class="st">"FPS&gt;FNS"</span>))</span>
<span id="cb4-91"><a href="#cb4-91" aria-hidden="true" tabindex="-1"></a>        .otherwise(pl.lit(<span class="st">"FNS&gt;FPS"</span>))</span>
<span id="cb4-92"><a href="#cb4-92" aria-hidden="true" tabindex="-1"></a>        .alias(<span class="st">"FPS_vs_FNS"</span>)</span>
<span id="cb4-93"><a href="#cb4-93" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb4-94"><a href="#cb4-94" aria-hidden="true" tabindex="-1"></a>    .with_columns(</span>
<span id="cb4-95"><a href="#cb4-95" aria-hidden="true" tabindex="-1"></a>        pl.when(pl.col(<span class="st">"FPS_FNS"</span>) <span class="op">&gt;</span> pl.col(<span class="st">"TPS_TNS"</span>))</span>
<span id="cb4-96"><a href="#cb4-96" aria-hidden="true" tabindex="-1"></a>        .then(pl.lit(<span class="st">"FPS_FNS&gt;TPS_TNS"</span>))</span>
<span id="cb4-97"><a href="#cb4-97" aria-hidden="true" tabindex="-1"></a>        .otherwise(pl.lit(<span class="st">"TPS_TNS&gt;FPS_FNS"</span>))</span>
<span id="cb4-98"><a href="#cb4-98" aria-hidden="true" tabindex="-1"></a>        .alias(<span class="st">"FPFN_vs_TPTN"</span>)</span>
<span id="cb4-99"><a href="#cb4-99" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb4-100"><a href="#cb4-100" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-101"><a href="#cb4-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-102"><a href="#cb4-102" aria-hidden="true" tabindex="-1"></a>DF_SSBB_TIDY <span class="op">=</span> DF_SSBB_V2.to_pandas()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="e26580af" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">##IMPLEMENTATION PHASE CODE BLOCKS</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> custom_string_tidy(texto):</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Clean up all the punctuations from a message"""</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">## STEP-1</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    rgx_ltrs <span class="op">=</span> re.<span class="bu">compile</span>(</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">"[\!|</span><span class="ch">\"</span><span class="st">|\#|\$|\%|\&amp;|'|\(|\)|\*|\+|\,|\-|\/|\:|\;|\&lt;|\=|\&gt;|\?|\[|</span><span class="ch">\\</span><span class="st">|\]|\^|\_|\`|\{|\||\}|\~|\.]+|FRM\:[\w\W]+(SUBJ\:)?MSG\:|\@|http(s)?|HTTP(S)?|</span><span class="ch">\n</span><span class="st">|</span><span class="ch">\r</span><span class="st">"</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    tidy_1_txt <span class="op">=</span> re.sub(rgx_ltrs, <span class="st">" "</span>, <span class="bu">str</span>(texto))</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    tidy_2_txt <span class="op">=</span> tidy_1_txt.strip()</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> tidy_2_txt.lower()</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_text_len(_txt):</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">len</span>(_txt)</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_list_count(_txt):</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>    _text_list <span class="op">=</span> _txt.split(<span class="st">" "</span>)</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">len</span>(_text_list)</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> custom_classification_metrics_report(_model_type, _actual, _predicted):</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>    _metric_dict <span class="op">=</span> {</span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Accuracy"</span>: [],</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>        <span class="st">"ROC-AUC"</span>: [],</span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>        <span class="st">"F1-Score"</span>: [],</span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Precision"</span>: [],</span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Recall"</span>: [],</span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>    _metric_dict[<span class="st">"Accuracy"</span>].append(<span class="bu">round</span>(accuracy_score(_actual, _predicted), <span class="dv">5</span>))</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>    _metric_dict[<span class="st">"ROC-AUC"</span>].append(<span class="bu">round</span>(roc_auc_score(_actual, _predicted), <span class="dv">5</span>))</span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>    _metric_dict[<span class="st">"F1-Score"</span>].append(<span class="bu">round</span>(f1_score(_actual, _predicted), <span class="dv">5</span>))</span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>    _metric_dict[<span class="st">"Precision"</span>].append(<span class="bu">round</span>(precision_score(_actual, _predicted), <span class="dv">5</span>))</span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>    _metric_dict[<span class="st">"Recall"</span>].append(<span class="bu">round</span>(recall_score(_actual, _predicted), <span class="dv">5</span>))</span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"-------------------------------------------------------------------"</span>)</span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>_model_type<span class="sc">}</span><span class="ss">#:ConfusionMatrix and ROC-AUC Curve"</span>)</span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"-------------------------------------------------------------------"</span>)</span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>    _plt <span class="op">=</span> ConfusionMatrixDisplay(confusion_matrix(_actual, _predicted))</span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>    _plt.plot()</span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>    RocCurveDisplay.from_predictions(_actual, _predicted)</span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>    plt.show()</span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a>    _df <span class="op">=</span> pd.DataFrame(_metric_dict)</span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a>    _df.index <span class="op">=</span> [<span class="ss">f"</span><span class="sc">{</span>_model_type<span class="sc">}</span><span class="ss">"</span>]</span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> _df</span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a><span class="co"># custom function</span></span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> tokenize_words(doc, lower_case<span class="op">=</span><span class="va">True</span>):</span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Tokenizations Unigram"""</span></span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> lower_case <span class="kw">is</span> <span class="kw">not</span> <span class="va">True</span>:</span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a>        doc_prep <span class="op">=</span> doc</span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a>    doc_prep <span class="op">=</span> <span class="bu">str</span>.lower(doc)</span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a>    tokens <span class="op">=</span> doc_prep.split()</span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> tokens</span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-55"><a href="#cb5-55" aria-hidden="true" tabindex="-1"></a><span class="co"># custom function</span></span>
<span id="cb5-56"><a href="#cb5-56" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> my_counter(doc):</span>
<span id="cb5-57"><a href="#cb5-57" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Custom counter function"""</span></span>
<span id="cb5-58"><a href="#cb5-58" aria-hidden="true" tabindex="-1"></a>    x_dict <span class="op">=</span> {}</span>
<span id="cb5-59"><a href="#cb5-59" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> item <span class="kw">in</span> doc:</span>
<span id="cb5-60"><a href="#cb5-60" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> item <span class="kw">in</span> x_dict.keys():</span>
<span id="cb5-61"><a href="#cb5-61" aria-hidden="true" tabindex="-1"></a>            x_dict[item] <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb5-62"><a href="#cb5-62" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb5-63"><a href="#cb5-63" aria-hidden="true" tabindex="-1"></a>            x_dict[item] <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb5-64"><a href="#cb5-64" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> x_dict</span>
<span id="cb5-65"><a href="#cb5-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-66"><a href="#cb5-66" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> computeTFIDF(corpus):</span>
<span id="cb5-67"><a href="#cb5-67" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Given a list of sentences as "corpus", return the TF-IDF vectors for all the</span></span>
<span id="cb5-68"><a href="#cb5-68" aria-hidden="true" tabindex="-1"></a><span class="co">    sentences in the corpus as a numpy 2D matrix.</span></span>
<span id="cb5-69"><a href="#cb5-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-70"><a href="#cb5-70" aria-hidden="true" tabindex="-1"></a><span class="co">    Each row of the 2D matrix must correspond to one sentence</span></span>
<span id="cb5-71"><a href="#cb5-71" aria-hidden="true" tabindex="-1"></a><span class="co">    and each column corresponds to a word in the text corpus.</span></span>
<span id="cb5-72"><a href="#cb5-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-73"><a href="#cb5-73" aria-hidden="true" tabindex="-1"></a><span class="co">    Please order the rows in the same order as the</span></span>
<span id="cb5-74"><a href="#cb5-74" aria-hidden="true" tabindex="-1"></a><span class="co">    sentences in the input "corpus".</span></span>
<span id="cb5-75"><a href="#cb5-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-76"><a href="#cb5-76" aria-hidden="true" tabindex="-1"></a><span class="co">    Ignore puncutation symbols like comma, fullstop,</span></span>
<span id="cb5-77"><a href="#cb5-77" aria-hidden="true" tabindex="-1"></a><span class="co">    exclamation, question-mark etc from the input corpus.</span></span>
<span id="cb5-78"><a href="#cb5-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-79"><a href="#cb5-79" aria-hidden="true" tabindex="-1"></a><span class="co">    For e.g, If the corpus contains sentences with these</span></span>
<span id="cb5-80"><a href="#cb5-80" aria-hidden="true" tabindex="-1"></a><span class="co">    9 distinct words, ['and', 'document', 'first', 'is', 'one', 'second', 'the', 'third', 'this'],</span></span>
<span id="cb5-81"><a href="#cb5-81" aria-hidden="true" tabindex="-1"></a><span class="co">    then the first column of the 2D matrix will correpsond to word "and", the second column will</span></span>
<span id="cb5-82"><a href="#cb5-82" aria-hidden="true" tabindex="-1"></a><span class="co">    correspond to column "document" and so on.</span></span>
<span id="cb5-83"><a href="#cb5-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-84"><a href="#cb5-84" aria-hidden="true" tabindex="-1"></a><span class="co">    Write this function using only basic Python code, inbuilt Data Structures and  NumPy ONLY.</span></span>
<span id="cb5-85"><a href="#cb5-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-86"><a href="#cb5-86" aria-hidden="true" tabindex="-1"></a><span class="co">    Implement the code as optimally as possible using the inbuilt data structures of Python.</span></span>
<span id="cb5-87"><a href="#cb5-87" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb5-88"><a href="#cb5-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-89"><a href="#cb5-89" aria-hidden="true" tabindex="-1"></a>    <span class="co">##############################################################</span></span>
<span id="cb5-90"><a href="#cb5-90" aria-hidden="true" tabindex="-1"></a>    <span class="co">####   YOUR CODE BELOW  as per the above instructions #######</span></span>
<span id="cb5-91"><a href="#cb5-91" aria-hidden="true" tabindex="-1"></a>    <span class="co">##############################################################</span></span>
<span id="cb5-92"><a href="#cb5-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-93"><a href="#cb5-93" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create a dictionary to hold doc and their tokens</span></span>
<span id="cb5-94"><a href="#cb5-94" aria-hidden="true" tabindex="-1"></a>    docs <span class="op">=</span> {}</span>
<span id="cb5-95"><a href="#cb5-95" aria-hidden="true" tabindex="-1"></a>    doc_tokens <span class="op">=</span> {}</span>
<span id="cb5-96"><a href="#cb5-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-97"><a href="#cb5-97" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> idx, doc <span class="kw">in</span> <span class="bu">enumerate</span>(corpus):</span>
<span id="cb5-98"><a href="#cb5-98" aria-hidden="true" tabindex="-1"></a>        docs[<span class="st">"doc"</span> <span class="op">+</span> <span class="bu">str</span>(idx)] <span class="op">=</span> tokenize_words(doc, lower_case<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb5-99"><a href="#cb5-99" aria-hidden="true" tabindex="-1"></a>        doc_tokens[<span class="st">"doc"</span> <span class="op">+</span> <span class="bu">str</span>(idx)] <span class="op">=</span> tokenize_words(doc, lower_case<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb5-100"><a href="#cb5-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-101"><a href="#cb5-101" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Count the number of tokens in each document</span></span>
<span id="cb5-102"><a href="#cb5-102" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> key, val <span class="kw">in</span> docs.items():</span>
<span id="cb5-103"><a href="#cb5-103" aria-hidden="true" tabindex="-1"></a>        docs[key] <span class="op">=</span> my_counter(val)</span>
<span id="cb5-104"><a href="#cb5-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-105"><a href="#cb5-105" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Caluclate term frequency in each document</span></span>
<span id="cb5-106"><a href="#cb5-106" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> key, val <span class="kw">in</span> docs.items():</span>
<span id="cb5-107"><a href="#cb5-107" aria-hidden="true" tabindex="-1"></a>        tot <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb5-108"><a href="#cb5-108" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> valor <span class="kw">in</span> val.values():</span>
<span id="cb5-109"><a href="#cb5-109" aria-hidden="true" tabindex="-1"></a>            tot <span class="op">+=</span> valor</span>
<span id="cb5-110"><a href="#cb5-110" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> k, v <span class="kw">in</span> val.items():</span>
<span id="cb5-111"><a href="#cb5-111" aria-hidden="true" tabindex="-1"></a>            val[k] <span class="op">=</span> v <span class="op">/</span> tot</span>
<span id="cb5-112"><a href="#cb5-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-113"><a href="#cb5-113" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Extracting the keys from each document</span></span>
<span id="cb5-114"><a href="#cb5-114" aria-hidden="true" tabindex="-1"></a>    x_keys <span class="op">=</span> []</span>
<span id="cb5-115"><a href="#cb5-115" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> val <span class="kw">in</span> docs.values():</span>
<span id="cb5-116"><a href="#cb5-116" aria-hidden="true" tabindex="-1"></a>        x_keys.extend(<span class="bu">list</span>(val.keys()))</span>
<span id="cb5-117"><a href="#cb5-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-118"><a href="#cb5-118" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Count total number of tokens across corpus</span></span>
<span id="cb5-119"><a href="#cb5-119" aria-hidden="true" tabindex="-1"></a>    doc_counts <span class="op">=</span> my_counter(x_keys)</span>
<span id="cb5-120"><a href="#cb5-120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-121"><a href="#cb5-121" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Caluclate IDF</span></span>
<span id="cb5-122"><a href="#cb5-122" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> k, v <span class="kw">in</span> doc_counts.items():</span>
<span id="cb5-123"><a href="#cb5-123" aria-hidden="true" tabindex="-1"></a>        doc_counts[k] <span class="op">=</span> math.log(<span class="bu">len</span>(docs) <span class="op">/</span> v)</span>
<span id="cb5-124"><a href="#cb5-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-125"><a href="#cb5-125" aria-hidden="true" tabindex="-1"></a>    <span class="co"># A dictionary to hold the IDF values of each word</span></span>
<span id="cb5-126"><a href="#cb5-126" aria-hidden="true" tabindex="-1"></a>    doc_idf <span class="op">=</span> {}</span>
<span id="cb5-127"><a href="#cb5-127" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> k, v <span class="kw">in</span> docs.items():</span>
<span id="cb5-128"><a href="#cb5-128" aria-hidden="true" tabindex="-1"></a>        lista <span class="op">=</span> {}</span>
<span id="cb5-129"><a href="#cb5-129" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> key <span class="kw">in</span> v.keys():</span>
<span id="cb5-130"><a href="#cb5-130" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> key <span class="kw">in</span> doc_counts.keys():</span>
<span id="cb5-131"><a href="#cb5-131" aria-hidden="true" tabindex="-1"></a>                <span class="cf">for</span> val <span class="kw">in</span> v.values():</span>
<span id="cb5-132"><a href="#cb5-132" aria-hidden="true" tabindex="-1"></a>                    lista[key] <span class="op">=</span> doc_counts[key]</span>
<span id="cb5-133"><a href="#cb5-133" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">break</span></span>
<span id="cb5-134"><a href="#cb5-134" aria-hidden="true" tabindex="-1"></a>        doc_idf[k] <span class="op">=</span> lista</span>
<span id="cb5-135"><a href="#cb5-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-136"><a href="#cb5-136" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Mapping IDF values to the corresponding words</span></span>
<span id="cb5-137"><a href="#cb5-137" aria-hidden="true" tabindex="-1"></a>    docs_tf_idf <span class="op">=</span> {}</span>
<span id="cb5-138"><a href="#cb5-138" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> k, v <span class="kw">in</span> docs.items():</span>
<span id="cb5-139"><a href="#cb5-139" aria-hidden="true" tabindex="-1"></a>        docs_tf_idf[k] <span class="op">=</span> [docs[k], doc_idf[k]]</span>
<span id="cb5-140"><a href="#cb5-140" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Caluclate the TF-IDF and keep it in a dictionary</span></span>
<span id="cb5-141"><a href="#cb5-141" aria-hidden="true" tabindex="-1"></a>    docs_tf_idf_cal <span class="op">=</span> {}</span>
<span id="cb5-142"><a href="#cb5-142" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> k, v <span class="kw">in</span> docs_tf_idf.items():</span>
<span id="cb5-143"><a href="#cb5-143" aria-hidden="true" tabindex="-1"></a>        docs_tf_idf_cal[k] <span class="op">=</span> {</span>
<span id="cb5-144"><a href="#cb5-144" aria-hidden="true" tabindex="-1"></a>            x: np.<span class="bu">round</span>(v[<span class="dv">0</span>].get(x, <span class="dv">0</span>) <span class="op">*</span> v[<span class="dv">1</span>].get(x, <span class="dv">0</span>), <span class="dv">2</span>) <span class="cf">for</span> x <span class="kw">in</span> v[<span class="dv">0</span>].keys()</span>
<span id="cb5-145"><a href="#cb5-145" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb5-146"><a href="#cb5-146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-147"><a href="#cb5-147" aria-hidden="true" tabindex="-1"></a>    <span class="co"># An array to store all the TF-IDF's</span></span>
<span id="cb5-148"><a href="#cb5-148" aria-hidden="true" tabindex="-1"></a>    x_tf_arr <span class="op">=</span> []</span>
<span id="cb5-149"><a href="#cb5-149" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> kt, vt <span class="kw">in</span> doc_tokens.items():</span>
<span id="cb5-150"><a href="#cb5-150" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> v <span class="kw">in</span> vt:</span>
<span id="cb5-151"><a href="#cb5-151" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> v <span class="kw">in</span> <span class="bu">list</span>(docs_tf_idf_cal.get(kt).keys()):</span>
<span id="cb5-152"><a href="#cb5-152" aria-hidden="true" tabindex="-1"></a>                x_tf_arr.append(docs_tf_idf_cal.get(kt)[v])</span>
<span id="cb5-153"><a href="#cb5-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-154"><a href="#cb5-154" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create a matrix with 4*6</span></span>
<span id="cb5-155"><a href="#cb5-155" aria-hidden="true" tabindex="-1"></a>    <span class="co"># _grader_std = np.array(x_tf_arr,dtype='float64').reshape(4,6)</span></span>
<span id="cb5-156"><a href="#cb5-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-157"><a href="#cb5-157" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> x_tf_arr</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="d22f18ee" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>df_pii_phi_raw <span class="op">=</span> pd.read_excel(</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>    <span class="vs">r"/Users/malleshamyamulla/Desktop/SSBBA/MBB_PROJECT/data/final/SDS_CLASSIFICATION_TIDY_FINAL_V2.xlsx"</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>df_pii_phi_raw[<span class="st">"_dbas_field_name_tidy"</span>] <span class="op">=</span> df_pii_phi_raw[<span class="st">"_dbas_field_name"</span>].<span class="bu">apply</span>(</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">lambda</span> x: custom_string_tidy(x)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>df_pii_phi_raw[<span class="st">"class_label"</span>] <span class="op">=</span> df_pii_phi_raw[<span class="st">"class_label"</span>].replace(</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"Y"</span>: <span class="dv">1</span>, <span class="st">"N"</span>: <span class="dv">0</span>, <span class="st">"y"</span>: <span class="dv">1</span>}</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>df_pii_phi_raw[<span class="st">"tidy_field_len"</span>] <span class="op">=</span> df_pii_phi_raw[<span class="st">"_dbas_field_name_tidy"</span>].<span class="bu">apply</span>(</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">lambda</span> x: get_text_len(x)</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>df_pii_phi_raw[<span class="st">"no_of_words"</span>] <span class="op">=</span> df_pii_phi_raw[<span class="st">"_dbas_field_name_tidy"</span>].<span class="bu">apply</span>(</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">lambda</span> x: get_list_count(x)</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="about-organization-and-team" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> About Organization and team</h1>
<p>Arete, a cybersecurity firm, provides a comprehensive suite of services designed to assist organizations in both post-incident recovery and proactive threat mitigation. Their global service portfolio encompasses the following:</p>
<p><strong>Ransomware Response:</strong> Arete’s expertise facilitates efficient recovery from ransomware attacks, minimizing downtime and data loss.</p>
<p><strong>Data Recovery and Restoration:</strong> The company offers secure data recovery and restoration solutions, ensuring business continuity following a cyber incident.</p>
<p><strong>Managed Detection and Response (MDR):</strong> Arete’s MDR services provide continuous monitoring and rapid response to security threats, safeguarding critical assets.</p>
<p><strong>Cybersecurity Strategy and Defense:</strong> The firm assists organizations in developing robust cybersecurity strategies and implementing effective defensive measures.</p>
<p><strong>Forensic Investigations:</strong> Arete conducts in-depth forensic investigations to determine the scope and nature of cyberattacks, facilitating remediation and legal proceedings.</p>
<p><strong>Regulatory Compliance Audits:</strong> Arete’s compliance audits ensure adherence to relevant data security regulations, minimizing legal and reputational risks.</p>
<p><strong>Data Breach Analysis:</strong> The company offers comprehensive data breach analysis services, helping organizations identify vulnerabilities and implement preventative measures.</p>
<p>I’m working in data breach discovery services, a team of data breach analysts collaborates closely with incident responders and forensic investigators to generate comprehensive reports. These reports detail the specific data potentially accessed or exfiltrated by threat actors. This collaborative approach ensures the accuracy of data curation and the judicious development of notification lists, enabling clients to comply with relevant legal obligations.</p>
</section>
<section id="introduction-to-sixsigma-methodolgies." class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Introduction to SixSigma methodolgies.</h1>
<p>Six Sigma is a project-based approach for improving effectiveness and efficiency. It is a disciplined, customer-focused, data-driven approach for improving the performance of processes, products, or services.</p>
<p>Now,the term Six Sigma can be used to refer to a philosophy, a performance metric, or a methodology.</p>
<p>As a philosophy, Six Sigma strives for perfection in achieving effectiveness and efficiency in meeting customer and business requirements.Six Sigma is proactive and prevention-based instead of reactive and detection-based.</p>
<p>As a performance metric,Six Sigma refers to a level of quality that is near perfection. It strives for a defect level that is no more than 3.4 parts per million. Sigma is a letter in the Greek alphabet used to represent standard deviation, a measure of variation. A Six Sigma process is very consistent, with very little variation, and therefore has a very small standard deviation.So small that the distance from the mean, or the average, to the nearest specification limit is equivalent to six standard deviations, or six sigma’s. As a result, only 3.4 parts per million or less are out of specification.</p>
<p>As a methodology, Six Sigma refers to DMAIC, a methodology for improvement named after its five phases of define, measure, analyse, improve, and control. Using this prescriptive approach, a team focuses on improving what’s important to customers, and uses data analysis to diagnose and improve the performance of process, products, or services.</p>
</section>
<section id="dmaic-define" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> DMAIC: Define</h1>
<section id="introduction." class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="introduction."><span class="header-section-number">4.1</span> Introduction.</h2>
<section id="introduction-to-document-review-and-classifications-how-to-capture-piiphi." class="level3" data-number="4.1.1">
<h3 data-number="4.1.1" class="anchored" data-anchor-id="introduction-to-document-review-and-classifications-how-to-capture-piiphi."><span class="header-section-number">4.1.1</span> Introduction to document review and classifications – how to capture PII/PHI.</h3>
<p>In the digital era - Spam attacks are targeted on individual or organization levels to get some valuable information from them to do any kind of frauds activities. Here data breaches are happening knowingly or unknowingly.</p>
<p>Here is a case:</p>
<p>A customer has received a SMS or Email on his phone saying that his or her payment is pending and pay it off by logging in a website which is a phishing one and not aware to him/her, the required information (such as Names, Address, Email, Payment Card Number and PIN) is filled in and leaked to Spammers, and here they will make use this information to do financial frauds, and here a person’s data has been compromised unfortunately.</p>
<p>Here is a list of industries or organizations which are attacked with different kinds of spam types such as ransomwares, malwares, spywares, smishing’s or phishing to take away the financial/personal/health information.</p>
<ul>
<li>BFSI Institutions</li>
<li>E-commerce</li>
<li>Telecom</li>
<li>Health</li>
<li>Educational institutes</li>
<li>Social medias</li>
<li>Hotel and food services</li>
<li>Hospital</li>
<li>Pharma</li>
<li>Agriculture</li>
<li>Gaming</li>
<li>Government/Public, Military services</li>
</ul>
<p>When any spam attack is happened, the stolen information must be available in form of structured or unstructured data formats stored in different kind of file systems such as</p>
<ul>
<li>Database files</li>
<li>Text or pdf files</li>
<li>XML or JSON</li>
<li>Spreadsheets</li>
</ul>
<p>As an organization or individuals, they would like to know what kind of NPPI (Nonpublic Personal Information) has been leaked out after a data breach happened. Our DBAS team of analysts come into picture to address their requests – looking for PII/PHI by banking upon the Intelligence systems (Data Mining/Information Retrievals) that we set up as part of services.</p>
<p>As we have seen above in an example case the users PII (Personal Identifiable Information) was leaked out as they contain an attribute such as Name, Address, Email and Payment card number/PIN.</p>
<p>There are loads of documents (it deals with all type of domains discussed in above) sent for reviewing/classifying whether any PII/PHI is existed in it or not, if any of attributes of PII/PHI found in any of these documents they need to be extracted and kept in a recommended format as per Protocol/Guidelines. Here as an analyst, we should be exploring, understanding, and deciding what makes an entry/document to be classified as PII/PHI.</p>
</section>
<section id="introduction-to-databreach-discovery-analysis-process." class="level3" data-number="4.1.2">
<h3 data-number="4.1.2" class="anchored" data-anchor-id="introduction-to-databreach-discovery-analysis-process."><span class="header-section-number">4.1.2</span> Introduction to DataBreach Discovery Analysis Process.</h3>
<section id="initial-review-and-data-extraction." class="level4" data-number="4.1.2.1">
<h4 data-number="4.1.2.1" class="anchored" data-anchor-id="initial-review-and-data-extraction."><span class="header-section-number">4.1.2.1</span> Initial Review and Data Extraction.</h4>
<ul>
<li><p>A team of trained analysts will embark on a meticulous review of a designated set of documents. These documents will be pre-tagged to identify specific types of Personally Identifiable Information (PII) and Protected Health Information (PHI) data points.</p></li>
<li><p>During this review, each analyst will meticulously extract the required PII/PHI data from the documents assigned to them. This extracted information could include elements like names, addresses, Social Security numbers, or medical diagnoses, depending on the specific types of PII/PHI being targeted.</p></li>
</ul>
</section>
<section id="data-consolidation-and-standardization." class="level4" data-number="4.1.2.2">
<h4 data-number="4.1.2.2" class="anchored" data-anchor-id="data-consolidation-and-standardization."><span class="header-section-number">4.1.2.2</span> Data Consolidation and Standardization.</h4>
<ul>
<li><p>Once all analysts have completed their initial review, a data consolidation phase will commence. This involves meticulously gathering the extracted PII/PHI data from each analyst’s files.</p></li>
<li><p>The consolidated data will then be uploaded or “dumped” into a pre-defined project template. This template will have a structured format with designated metadata fields. These fields ensure proper organization and searchability of the extracted information. Examples of metadata fields might include document source, date of extraction, and the analyst who reviewed the document.</p></li>
</ul>
</section>
<section id="data-deduplication-unifying-multiple-instances." class="level4" data-number="4.1.2.3">
<h4 data-number="4.1.2.3" class="anchored" data-anchor-id="data-deduplication-unifying-multiple-instances."><span class="header-section-number">4.1.2.3</span> Data Deduplication: Unifying Multiple Instances.</h4>
<ul>
<li><p>The next critical process is data deduplication. This step addresses the inherent challenge of PII/PHI potentially appearing in multiple documents for the same individual.</p></li>
<li><p>Imagine a scenario where a person’s name, address, and phone number appear in both a customer registration form and a service call log. Data deduplication techniques will identify these duplicate entries and cluster them into a single “observation” within the project template.</p></li>
<li><p>This clustering process helps eliminate redundancy and ensures a more accurate and concise representation of each individual’s PII/PHI data within the final dataset.</p></li>
</ul>
</section>
<section id="data-quality-control-qc-ensuring-accuracy-and-completeness." class="level4" data-number="4.1.2.4">
<h4 data-number="4.1.2.4" class="anchored" data-anchor-id="data-quality-control-qc-ensuring-accuracy-and-completeness."><span class="header-section-number">4.1.2.4</span> Data Quality Control (QC): Ensuring Accuracy and Completeness.</h4>
<p>After the data deduplication process, the consolidated dataset will undergo a rigorous Manual Quality Control (QC) check. This critical step involves a team of experts meticulously cross-checking the data quality using pre-defined criteria.</p>
<section id="focus-areas-of-manual-qc." class="level5" data-number="4.1.2.4.1">
<h5 data-number="4.1.2.4.1" class="anchored" data-anchor-id="focus-areas-of-manual-qc."><span class="header-section-number">4.1.2.4.1</span> Focus Areas of Manual QC.</h5>
<ul>
<li><p><strong>Data Capture Accuracy:</strong> The QC team will verify that all required PII/PHI data points were correctly extracted from the documents during the initial review phase. This might involve checking for missing information, typos, or inconsistencies in data formatting.</p></li>
<li><p><strong>Minimizing Errors:</strong> The team will identify and address any potential false positives (data points mistakenly classified as PII/PHI) or false negatives (actual PII/PHI data points missed during extraction).</p></li>
<li><p><strong>Overall Data Integrity:</strong> The QC process ensures the overall accuracy, completeness, and consistency of the deduplicated dataset.</p></li>
</ul>
</section>
<section id="notification-and-action." class="level5" data-number="4.1.2.4.2">
<h5 data-number="4.1.2.4.2" class="anchored" data-anchor-id="notification-and-action."><span class="header-section-number">4.1.2.4.2</span> Notification and Action.</h5>
<ul>
<li><p>Once the Manual QC process is complete, a notification list will be generated. This list will detail any identified errors or inconsistencies within the data.</p></li>
<li><p>The notification list will then be submitted to the legal counsel for review, typically aiming for a completion rate of at least 95% for the Quality Checks. This high threshold ensures a high level of confidence in the data quality before further action.</p></li>
</ul>
</section>
</section>
</section>
<section id="databreach-analysis-data-extraction-process" class="level3" data-number="4.1.3">
<h3 data-number="4.1.3" class="anchored" data-anchor-id="databreach-analysis-data-extraction-process"><span class="header-section-number">4.1.3</span> DataBreach Analysis-Data Extraction Process</h3>
<section id="execute-ner-analysis-on-pool." class="level4" data-number="4.1.3.1">
<h4 data-number="4.1.3.1" class="anchored" data-anchor-id="execute-ner-analysis-on-pool."><span class="header-section-number">4.1.3.1</span> Execute NER Analysis on Pool.</h4>
<p>To identify potentially sensitive information, all incoming documents are analyzed by a Named Entity Recognition (NER) system. This AI-powered tool scans for Personally Identifiable Information (PII) and Protected Health Information (PHI) such as names, addresses, Social Security numbers, and medical records. Documents flagged by the NER system are then routed to the structured data services team for further categorization and data extraction.</p>
</section>
<section id="collect-files-and-divide-into-sets-for-review." class="level4" data-number="4.1.3.2">
<h4 data-number="4.1.3.2" class="anchored" data-anchor-id="collect-files-and-divide-into-sets-for-review."><span class="header-section-number">4.1.3.2</span> Collect files and Divide into Sets for review.</h4>
<p>Given the diverse file formats received (e.g., spreadsheets, text documents, PDFs, images), an initial sorting step is crucial. Our system automatically classifies incoming documents based on their file type. This streamlines the review process by directing documents to reviewers with the appropriate expertise.</p>
</section>
<section id="start-reviewing-the-documents." class="level4" data-number="4.1.3.3">
<h4 data-number="4.1.3.3" class="anchored" data-anchor-id="start-reviewing-the-documents."><span class="header-section-number">4.1.3.3</span> Start reviewing the documents.</h4>
<p>Once classified and assigned, reviewers begin analyzing the documents. This initial assessment involves techniques like examining column headers in spreadsheets, counting rows and columns, and visually evaluating data structure. This initial analysis helps reviewers understand the document’s content and determine the most effective approach for further review.</p>
</section>
<section id="figure-out-and-classify-the-piiphi-columns." class="level4" data-number="4.1.3.4">
<h4 data-number="4.1.3.4" class="anchored" data-anchor-id="figure-out-and-classify-the-piiphi-columns."><span class="header-section-number">4.1.3.4</span> Figure out and Classify the PII/PHI columns.</h4>
<p>Due to the complexities of identifying PII/PHI data, a manual review process is necessary after the initial NER analysis. Reviewers with expertise in data privacy regulations and compliance protocols meticulously examine each assigned document. This in-depth review involves:</p>
<ul>
<li><p><strong>Opening the file:</strong> Reviewers access the document for analysis.</p></li>
<li><p><strong>Analyzing column headers:</strong> Particular focus is placed on column headers in spreadsheets and similar data structures. Reviewers compare these headers against predefined lists of PII/PHI elements as outlined in the established counsel protocol.</p></li>
<li><p><strong>Matching data elements:</strong> Reviewers meticulously check if any column headers correspond to known PII/PHI categories. This may include names, addresses, Social Security numbers, phone numbers, email addresses, and health information.</p></li>
<li><p><strong>Iterative classification:</strong> This process is repeated for all assigned documents, allowing reviewers to systematically classify columns containing PII/PHI data.</p></li>
</ul>
</section>
<section id="extract-the-information-from-the-piiphi-columns." class="level4" data-number="4.1.3.5">
<h4 data-number="4.1.3.5" class="anchored" data-anchor-id="extract-the-information-from-the-piiphi-columns."><span class="header-section-number">4.1.3.5</span> Extract the information from the PII/PHI columns.</h4>
<p>Once PII/PHI columns are identified, reviewers extract the specific information from those designated fields. This critical step involves carefully collecting the relevant data points, ensuring accuracy and completeness. The extracted information is then forwarded to the subsequent stage in the processing workflow.</p>
</section>
<section id="consolidate-the-gathered-piiphi-information-from-the-files." class="level4" data-number="4.1.3.6">
<h4 data-number="4.1.3.6" class="anchored" data-anchor-id="consolidate-the-gathered-piiphi-information-from-the-files."><span class="header-section-number">4.1.3.6</span> Consolidate the gathered PII/PHI information from the files.</h4>
<p>To gain a comprehensive view of all PII/PHI data within a project, a consolidation step is essential. Extracted data from each file is meticulously merged into a central repository. This consolidated dataset provides a holistic perspective on all PII/PHI information associated with the project.</p>
</section>
<section id="data-cleaning-and-tidying." class="level4" data-number="4.1.3.7">
<h4 data-number="4.1.3.7" class="anchored" data-anchor-id="data-cleaning-and-tidying."><span class="header-section-number">4.1.3.7</span> Data Cleaning and Tidying.</h4>
<p>Real-world data often contains inconsistencies and errors. To ensure the accuracy and usability of the extracted PII/PHI information, a data cleaning and tidying process is implemented. This stage may involve:</p>
<ul>
<li><p><strong>Identifying and correcting errors:</strong> Reviewers address any inconsistencies or inaccuracies present in the extracted data.</p></li>
<li><p><strong>Formatting data:</strong> Data is formatted according to predefined standards to ensure consistency and facilitate further analysis.</p></li>
<li><p><strong>Splitting data:</strong> If necessary, data elements may be split into more granular components to enhance organization and usability.</p></li>
</ul>
</section>
<section id="enter-the-tidy-data-in-the-project-protocol-template-sheet." class="level4" data-number="4.1.3.8">
<h4 data-number="4.1.3.8" class="anchored" data-anchor-id="enter-the-tidy-data-in-the-project-protocol-template-sheet."><span class="header-section-number">4.1.3.8</span> Enter the tidy data in the project protocol template sheet.</h4>
<p>Following the data cleaning and tidying process, the resulting high-quality information needs to be integrated into the project workflow. This step involves:</p>
<ul>
<li><p><strong>Data transfer:</strong> The meticulously cleaned and formatted data is carefully transferred to the designated project protocol template sheet. This template likely resides within a project management tool or a centralized repository.</p></li>
<li><p><strong>Data integration:</strong> By incorporating the clean data into the project protocol template, it becomes part of the project’s overall record. This ensures all relevant information is readily available for subsequent stages, such as data deduplication.</p></li>
</ul>
</section>
</section>
</section>
<section id="business-case." class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="business-case."><span class="header-section-number">4.2</span> Business Case.</h2>
<p>The current manual document review process suffers from significant inaccuracies, leading to rework and delays in generating data breach notification lists. This inefficiency stems from two primary issues:</p>
<ol type="1">
<li><p><strong>False Positives and False Negatives:</strong> During data element extraction, analysts encounter a high rate of errors. They may mistakenly identify irrelevant information as PII/PHI (false positives), or miss crucial PII/PHI data points (false negatives). These errors necessitate rework, requiring analysts to re-review documents and correct mistakes.</p></li>
<li><p><strong>Excessive Time Spent on Manual Extraction:</strong> The reliance on manual extraction significantly increases processing time. Analysts spend a considerable amount of effort manually extracting data elements from various documents, hindering their ability to complete projects within the designated timeframe.</p></li>
</ol>
<p>These issues have a detrimental impact on the document review service in several ways:</p>
<ul>
<li><p><strong>Increased Costs:</strong> Rework due to errors necessitates additional analyst time, leading to increased operational costs.</p></li>
<li><p><strong>Delayed Notification:</strong> Inaccurate data extraction delays the generation of data breach notification lists, potentially putting individuals at risk for longer periods.</p></li>
<li><p><strong>Reduced Customer Satisfaction:</strong> Delays and inaccuracies compromise the quality of service provided to clients.</p></li>
<li><p><strong>Inefficient Resource Allocation:</strong> Analysts’ time spent on manual extraction could be better utilized for more complex tasks requiring human judgment.</p></li>
</ul>
</section>
<section id="voice-of-customersvoc" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="voice-of-customersvoc"><span class="header-section-number">4.3</span> Voice Of Customers(VOC)</h2>
<div id="tbl-letters" class="quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-letters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: Voice of Customers
</figcaption>
<div aria-describedby="tbl-letters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table">
<colgroup>
<col style="width: 12%">
<col style="width: 62%">
<col style="width: 12%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th>S.NO</th>
<th>VOC</th>
<th>TYPE</th>
<th>CTQ</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Spreadsheets with massive amounts of data are cumbersome and slow to review.</td>
<td>Internal-Customer</td>
<td>Document Review Time</td>
</tr>
<tr class="even">
<td>2</td>
<td>Large volumes of unstructured data are challenging to parse and extract accurately.</td>
<td>Internal-Customer</td>
<td>Document Classification</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Difficulty identifying and selecting PII/PHI fields.</td>
<td>Internal-Customer</td>
<td>Document Classification</td>
</tr>
<tr class="even">
<td>4</td>
<td>Unclear headers and diverse file formats make data interpretation difficult.</td>
<td>Internal-Customer</td>
<td>Document Classification</td>
</tr>
<tr class="odd">
<td>5</td>
<td>Manual data extraction is error-prone and time-consuming.</td>
<td>Internal-Customer</td>
<td>Document Review Time</td>
</tr>
<tr class="even">
<td>6</td>
<td>Delays and reworks occur due to false positives/negatives.</td>
<td>External-Customer</td>
<td>Document Classification</td>
</tr>
<tr class="odd">
<td>7</td>
<td>Slow response times from the review team on queries hinder productivity.</td>
<td>Internal-Customer</td>
<td>Document Review Time</td>
</tr>
<tr class="even">
<td>8</td>
<td>Notification lists are not delivered on time.</td>
<td>External-Customer</td>
<td>Document Review Time</td>
</tr>
<tr class="odd">
<td>9</td>
<td>Lack of automation tools for data extraction leads to repetitive manual tasks.</td>
<td>Internal-Customer</td>
<td>Document Classification</td>
</tr>
<tr class="even">
<td>10</td>
<td>Lack of file management system</td>
<td>Internal-Customer</td>
<td>Document Review Time</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
</section>
<section id="process-map" class="level2" data-number="4.4">
<h2 data-number="4.4" class="anchored" data-anchor-id="process-map"><span class="header-section-number">4.4</span> Process Map</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="DBAS_SDS_FLOW_V1.png" class="img-fluid figure-img" width="600"></p>
<figcaption>DataBreach Analysis Processs Flow Diagram</figcaption>
</figure>
</div>
<section id="sipoc" class="level3" data-number="4.4.1">
<h3 data-number="4.4.1" class="anchored" data-anchor-id="sipoc"><span class="header-section-number">4.4.1</span> SIPOC</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="ProcessMap.png" class="img-fluid figure-img"></p>
<figcaption>DBAS-HighLeve Process Map</figcaption>
</figure>
</div>
<div id="tbl-letters" class="quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-letters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;2: SIPOC Table
</figcaption>
<div aria-describedby="tbl-letters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table">
<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th>Process</th>
<th>Input</th>
<th>Output</th>
<th>Customer (Who Benefits)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Initial Review &amp; Data Extraction</td>
<td>- Documents requiring review (various formats) <br> - Predefined PII/PHI identification rules <br> - Review team</td>
<td>- Extracted PII/PHI data <br> - Classified document <br> - Initial data points</td>
<td>Internal Customer (Next stage in review process)</td>
</tr>
<tr class="even">
<td>Data Consolidation &amp; Standardization</td>
<td>- Extracted PII/PHI data from various documents <br> - Data cleaning &amp; formatting rules</td>
<td>- Consolidated &amp; Standardized PII/PHI dataset</td>
<td>Internal Customer (Next stage in review process)</td>
</tr>
<tr class="odd">
<td>Data Deduplication: Unifying Multiple Instances</td>
<td>- Consolidated &amp; Standardized PII/PHI dataset</td>
<td>- Deduplicated PII/PHI dataset (removing duplicates)</td>
<td>Internal Customer (Next stage in review process)</td>
</tr>
<tr class="even">
<td>Data Quality Control (QC): Ensuring Accuracy &amp; Completeness</td>
<td>- Deduplicated PII/PHI dataset</td>
<td>- Reviewed &amp; Validated PII/PHI dataset (ensured accuracy &amp; completeness)</td>
<td>Internal Customer (Using the data) &amp; External Customer (Potentially impacted by data)</td>
</tr>
<tr class="odd">
<td>Notification &amp; Action</td>
<td>- Reviewed &amp; Validated PII/PHI dataset</td>
<td>- Notification of completion/issues (to relevant parties) <br> - Documented actions taken</td>
<td>Internal Customer (Project manager/stakeholders) &amp; External Customer (Legal Counsels, Companies whose data got breached)</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
</section>
</section>
<section id="project-charter" class="level2" data-number="4.5">
<h2 data-number="4.5" class="anchored" data-anchor-id="project-charter"><span class="header-section-number">4.5</span> Project Charter</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="DBAS_PC_Tidy.png" class="img-fluid figure-img"></p>
<figcaption>DBAS-Project Charter</figcaption>
</figure>
</div>
</section>
</section>
<section id="dmaic-measure" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> DMAIC: Measure</h1>
<section id="data-collection-plan." class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="data-collection-plan."><span class="header-section-number">5.1</span> Data Collection Plan.</h2>
<p>Within Data Breach Discovery Services, the following key metrics are captured in the project management tool to assess document review performance.</p>
<section id="metrics" class="level3" data-number="5.1.1">
<h3 data-number="5.1.1" class="anchored" data-anchor-id="metrics"><span class="header-section-number">5.1.1</span> Metrics:</h3>
<p><strong>1.Project Initiation:</strong></p>
<p>Start Date: Capture the date the project was initiated in the project management tool.</p>
<p><strong>2.Document Volume:</strong></p>
<p>Total Number of Documents:Track the total number of documents included in the review process.</p>
<p><strong>3.Personal Identifiable Information (PII) / Protected Health Information (PHI) Detection:</strong></p>
<p>Number of PII/PHI Tagged Documents: Measure the number of documents containing identified PII/PHI data points.</p>
<p><strong>4.Resource Allocation:</strong></p>
<p>Number of Assigned Analysts: Record the number of analysts assigned to the project.</p>
<p><strong>5.Process Cycle Time:</strong></p>
<p>This metric captures the overall time taken for each stage of the review process. Ideally, categorize and track the time taken for each step:</p>
<ul>
<li><p>Extraction - Time taken to extract data from documents.</p></li>
<li><p>Cleaning &amp; Tidying - Time spent cleaning and formatting extracted data.</p></li>
<li><p>Consolidation - Time taken to combine and organize cleaned data.</p></li>
<li><p>De-duplication - Time spent removing duplicate data entries.</p></li>
<li><p>Quality Control (QC) - Time taken for quality checks on the processed data.</p></li>
<li><p>Final Notification Delivery - Time taken to deliver the final report or notification.</p></li>
</ul>
<p><strong>6.Error Rate:</strong></p>
<p>Number of False Positives/False Negatives: Track the number of instances where PII/PHI was incorrectly identified (False Positive) or missed (False Negative).</p>
<p><strong>7.Challenge and Inquiry Tracking:</strong></p>
<ul>
<li><p>Number of Specific Challenges: Record the number of specific challenges encountered during the review process. Examples could be unclear document formats, data inconsistencies, etc.</p></li>
<li><p>Number of Specific Queries: Track the number of specific questions raised by analysts requiring clarification or further guidance.</p></li>
</ul>
<p><strong>8.Project Completion:</strong></p>
<p>End Date: Capture the date the document review project was completed in the project management tool.</p>
</section>
<section id="glance-at-data" class="level3" data-number="5.1.2">
<h3 data-number="5.1.2" class="anchored" data-anchor-id="glance-at-data"><span class="header-section-number">5.1.2</span> Glance at Data</h3>
<div id="16b4113a" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>df_org <span class="op">=</span> pl.read_csv(</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    <span class="vs">r"/Users/malleshamyamulla/Desktop/SSBBA/MBB_PROJECT/data/DBAS_Projects_Data_Tidy_V3.csv"</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>).drop([<span class="st">"Started Date"</span>, <span class="st">"Complete Date"</span>, <span class="st">"NO_OF_DAYS"</span>, <span class="st">"NO_OF_SERVICE_WORKING_HRS"</span>]).with_columns(pl.col(<span class="st">"Project Name"</span>).<span class="bu">str</span>.replace_all(<span class="st">"PROJECT"</span>, <span class="st">"P"</span>))</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>df_org.columns <span class="op">=</span> [</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Pname"</span>,</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"#Files"</span>,</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"#Days"</span>,</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"#Analyst"</span>,</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">"#PII_PHI"</span>,</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">"#FPS"</span>,</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">"#FNS"</span>,</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"FPS_FNS"</span>,</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"TPS_TNS"</span>,</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Accuracy"</span>,</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>DF_DBAS <span class="op">=</span> df_org.to_pandas()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The following two tables present databreach discovery project management information collected from roughly 250 projects handled over the last year.</p>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>df_1 <span class="op">=</span> df_org.<span class="bu">filter</span>(pl.col(<span class="st">'#Files'</span>)<span class="op">&gt;</span><span class="dv">100</span>).sample(<span class="dv">10</span>).to_pandas()</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>df_1.iloc[:,:<span class="dv">5</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<caption>DBAS-Document Reviews Data-1 {#f02b3b3e}</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Pname</th>
<th data-quarto-table-cell-role="th">#Files</th>
<th data-quarto-table-cell-role="th">#Days</th>
<th data-quarto-table-cell-role="th">#Analyst</th>
<th data-quarto-table-cell-role="th">#PII_PHI</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>P_68</td>
<td>141</td>
<td>9</td>
<td>5</td>
<td>122</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>P_250</td>
<td>5498</td>
<td>34</td>
<td>15</td>
<td>4563</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>P_109</td>
<td>367</td>
<td>44</td>
<td>2</td>
<td>322</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>P_28</td>
<td>1103</td>
<td>15</td>
<td>4</td>
<td>948</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>P_120</td>
<td>1769</td>
<td>2</td>
<td>3</td>
<td>1645</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>P_140</td>
<td>232</td>
<td>5</td>
<td>2</td>
<td>222</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>P_124</td>
<td>894</td>
<td>7</td>
<td>2</td>
<td>840</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>P_41</td>
<td>111</td>
<td>1</td>
<td>2</td>
<td>104</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>P_119</td>
<td>4766</td>
<td>33</td>
<td>9</td>
<td>4527</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>P_228</td>
<td>2076</td>
<td>5</td>
<td>7</td>
<td>1764</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>pd.concat([df_1.iloc[:,<span class="dv">0</span>],df_1.iloc[:,<span class="dv">4</span>:]],axis<span class="op">=</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<caption>DBAS-Document Reviews Data-2 {#75c08506}</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Pname</th>
<th data-quarto-table-cell-role="th">#PII_PHI</th>
<th data-quarto-table-cell-role="th">#FPS</th>
<th data-quarto-table-cell-role="th">#FNS</th>
<th data-quarto-table-cell-role="th">FPS_FNS</th>
<th data-quarto-table-cell-role="th">TPS_TNS</th>
<th data-quarto-table-cell-role="th">Accuracy</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>P_68</td>
<td>122</td>
<td>29</td>
<td>31</td>
<td>60</td>
<td>62</td>
<td>0.508197</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>P_250</td>
<td>4563</td>
<td>182</td>
<td>1688</td>
<td>1870</td>
<td>2693</td>
<td>0.590182</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>P_109</td>
<td>322</td>
<td>41</td>
<td>22</td>
<td>63</td>
<td>259</td>
<td>0.804348</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>P_28</td>
<td>948</td>
<td>37</td>
<td>199</td>
<td>236</td>
<td>712</td>
<td>0.751055</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>P_120</td>
<td>1645</td>
<td>82</td>
<td>411</td>
<td>493</td>
<td>1152</td>
<td>0.700304</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>P_140</td>
<td>222</td>
<td>44</td>
<td>44</td>
<td>88</td>
<td>134</td>
<td>0.603604</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>P_124</td>
<td>840</td>
<td>109</td>
<td>285</td>
<td>394</td>
<td>446</td>
<td>0.530952</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>P_41</td>
<td>104</td>
<td>7</td>
<td>37</td>
<td>44</td>
<td>60</td>
<td>0.576923</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>P_119</td>
<td>4527</td>
<td>1312</td>
<td>543</td>
<td>1855</td>
<td>2672</td>
<td>0.590236</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>P_228</td>
<td>1764</td>
<td>317</td>
<td>158</td>
<td>475</td>
<td>1289</td>
<td>0.730726</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<p>This table summarizes the key challenges identified by analysts during the Extraction Phase of the Document Review Service Process. Data was collected through an internal survey.</p>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>df_challenges.to_pandas()[[<span class="st">'row_nr'</span>,<span class="st">'#CHALLENGE'</span>]].sample(<span class="dv">15</span>,replace<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<caption>Reviewers Challenges/Problems {#155ef8a2}</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">row_nr</th>
<th data-quarto-table-cell-role="th">#CHALLENGE</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">13</td>
<td>13</td>
<td>working on large volumes files effects</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>5</td>
<td>large file size</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12</td>
<td>12</td>
<td>diverse formats</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2</td>
<td>2</td>
<td>multiple sheets</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>0</td>
<td>different file structures</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>9</td>
<td>excel documents having different sheet formats</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>6</td>
<td>jumbled data</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">22</td>
<td>22</td>
<td>taking time for the consolidation process.</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">24</td>
<td>24</td>
<td>extracting data from large files.</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">20</td>
<td>20</td>
<td>handling large set data while extracting</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">19</td>
<td>19</td>
<td>extracting data from multiple sheets is a bit ...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">21</td>
<td>21</td>
<td>the files which contains large volumes of data</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>1</td>
<td>unstructured data</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>11</td>
<td>in multiple sheet with jumble data taking lot ...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">23</td>
<td>23</td>
<td>time taking when we have too many sheets with ...</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="f7d0e9a0" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>df_PII<span class="op">=</span>pd.read_excel(<span class="vs">r'/Users/malleshamyamulla/Desktop/SSBBA/MBB_PROJECT/data/class_pii_phi_tiny_v2.xlsx'</span>,sheet_name<span class="op">=</span><span class="st">'PIIPHI'</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>df_NOPII<span class="op">=</span>pd.read_excel(<span class="vs">r'/Users/malleshamyamulla/Desktop/SSBBA/MBB_PROJECT/data/class_pii_phi_tiny_v2.xlsx'</span>,sheet_name<span class="op">=</span><span class="st">'NOPIIPHI'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The following table showcases a collection of document labels gathered from past projects. We’ve meticulously classified them (PII/PHI OR NO-PII/PHI) for future use in process improvement and automation endeavors.</p>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>df_PII</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="12">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<caption>Samples of PII/PHI Classified Labels {#48db2008}</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Field_Name</th>
<th data-quarto-table-cell-role="th">Class_Label</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>First Name</td>
<td>PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Last Name</td>
<td>PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Email</td>
<td>PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Gender</td>
<td>PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Birthdate</td>
<td>PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>Social Security Number</td>
<td>PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>Payment Plan Name</td>
<td>PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>Payment Plan Details</td>
<td>PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>patient_name_last</td>
<td>PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>patient_name_first</td>
<td>PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>patient_name_middle</td>
<td>PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>patient_dob</td>
<td>PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12</td>
<td>patient_sex</td>
<td>PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13</td>
<td>patient_addr1</td>
<td>PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14</td>
<td>patient_addr2</td>
<td>PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">15</td>
<td>patient_city</td>
<td>PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">16</td>
<td>patient_state</td>
<td>PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">17</td>
<td>patient_zip</td>
<td>PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">18</td>
<td>patient_phone</td>
<td>PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19</td>
<td>policyholder_name_last</td>
<td>PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20</td>
<td>policyholder_name_first</td>
<td>PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">21</td>
<td>policyholder_name_middle</td>
<td>PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">22</td>
<td>policyholder_dob</td>
<td>PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">23</td>
<td>policyholder_addr1</td>
<td>PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">24</td>
<td>policyholder_addr2</td>
<td>PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">25</td>
<td>policyholder_city</td>
<td>PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">26</td>
<td>policyholder_state</td>
<td>PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">27</td>
<td>policyholder_zip</td>
<td>PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">28</td>
<td>Parent 1 First Name</td>
<td>PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">29</td>
<td>Parent 1 Last Name</td>
<td>PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">30</td>
<td>Parent 1 Email</td>
<td>PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">31</td>
<td>Parent 1 Mobile Number</td>
<td>PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">32</td>
<td>Parent 2 First Name</td>
<td>PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">33</td>
<td>Parent 2 Last Name</td>
<td>PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">34</td>
<td>Parent 2 Email</td>
<td>PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">35</td>
<td>Parent 2 Mobile Number</td>
<td>PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">36</td>
<td>Address</td>
<td>PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">37</td>
<td>City</td>
<td>PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">38</td>
<td>State</td>
<td>PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">39</td>
<td>Zip</td>
<td>PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">40</td>
<td>Guardian - Full Name</td>
<td>PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">41</td>
<td>Guardian - Cell/Main Phone Number</td>
<td>PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">42</td>
<td>Guardian - Email Address</td>
<td>PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">43</td>
<td>policynumber</td>
<td>PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">44</td>
<td>groupnumber</td>
<td>PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">45</td>
<td>medicaid_id</td>
<td>PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">46</td>
<td>patient_ssn</td>
<td>PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">47</td>
<td>claimID</td>
<td>PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">48</td>
<td>mrn</td>
<td>PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">49</td>
<td>DOB</td>
<td>PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">50</td>
<td>ptName</td>
<td>PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">51</td>
<td>ptAddress</td>
<td>PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">52</td>
<td>ptAddress2</td>
<td>PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">53</td>
<td>insuranceName</td>
<td>PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">54</td>
<td>Social Security #</td>
<td>PII/PHI</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>df_NOPII</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<caption>Samples of NO-PII/PHI Classified Labels {#69b53f60}</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Field_Name</th>
<th data-quarto-table-cell-role="th">Class_Label</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Amount Paid</td>
<td>NO-PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>chn_payorClass</td>
<td>NO-PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>chnLocation</td>
<td>NO-PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>copay</td>
<td>NO-PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Discount code</td>
<td>NO-PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>dos</td>
<td>NO-PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>GA member role</td>
<td>NO-PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>GA name</td>
<td>NO-PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>insurance_VMID</td>
<td>NO-PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>Membership Expiration Date</td>
<td>NO-PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>Membership level</td>
<td>NO-PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>notes</td>
<td>NO-PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12</td>
<td>Opt-in to Newsletter</td>
<td>NO-PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13</td>
<td>Original Role</td>
<td>NO-PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14</td>
<td>Outstanding Balance</td>
<td>NO-PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">15</td>
<td>Parent 1 SMS Opt-In</td>
<td>NO-PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">16</td>
<td>Parent 2 SMS Opt-In</td>
<td>NO-PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">17</td>
<td>pat_relation_to_policyholder</td>
<td>NO-PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">18</td>
<td>patient_PCP_VMID</td>
<td>NO-PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19</td>
<td>Payment</td>
<td>NO-PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20</td>
<td>Payment</td>
<td>NO-PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">21</td>
<td>Photo</td>
<td>NO-PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">22</td>
<td>Registration Date</td>
<td>NO-PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">23</td>
<td>Role</td>
<td>NO-PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">24</td>
<td>Small Group</td>
<td>NO-PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">25</td>
<td>Status</td>
<td>NO-PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">26</td>
<td>subscriberNo</td>
<td>NO-PII/PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">27</td>
<td>Total Amount</td>
<td>NO-PII/PHI</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">28</td>
<td>Waiver Acceptance Date</td>
<td>NO-PII/PHI</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</section>
</section>
<section id="establishing-performance-variable." class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="establishing-performance-variable."><span class="header-section-number">5.2</span> Establishing Performance Variable.</h2>
<p>Building on the previous table, let’s explore the specific information recorded for each project:</p>
<ol type="1">
<li><p><strong>Number of Files:</strong> This represents the total number of files included in a review pool.</p></li>
<li><p><strong>Number of PII/PHI:</strong> This indicates how many files within the pool were identified as containing PII/PHI using Named Entity Recognition (NER) analysis.</p></li>
<li><p><strong>Number of False Positives (FPS):</strong> This reflects the number of documents incorrectly classified as PII/PHI when they actually contained no PII/PHI data.</p></li>
<li><p><strong>Number of False Negatives (FNS):</strong> This refers to the number of documents that should have been flagged as PII/PHI but were mistakenly classified as not containing such information.</p></li>
<li><p><strong>Accuracy Calculation:</strong> The accuracy metric is derived by dividing the sum of True Positives and True Negatives by the total number of documents categorized (True Positives, True Negatives, False Positives, and False Negatives).</p></li>
</ol>
<p>Document classification accuracy hinges on managing False Positives (FPs) and False Negatives (FNs). By minimizing the rate of both FPs (incorrectly classifying non-PII documents as PII) and FNs (missing true PII documents), we can significantly improve overall accuracy.</p>
<p>This translates to the below key benefits:</p>
<ul>
<li><p><strong>Reduced Notification Delays:</strong> Fewer FPs mean fewer unnecessary notifications, streamlining the process and ensuring timely alerts for critical PII findings.</p></li>
<li><p><strong>Enhanced Analyst Efficiency:</strong> With fewer FNs, analysts spend less time investigating irrelevant documents and can focus their expertise on genuine PII cases.</p></li>
<li><p><strong>Enhanced Client Satisfaction:</strong> By minimizing errors, we deliver high-quality notification lists containing accurate PII/PHI data. This allows clients to confidently present this information to legal counsel, fostering trust and satisfaction.</p></li>
</ul>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>df_ctq_tbl <span class="op">=</span> pd.read_csv(<span class="vs">r'/Users/malleshamyamulla/Desktop/SSBBA/MBB_PROJECT/data/DBAS_CTQ.csv'</span>)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>df_ctq_tbl</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<caption>Performance Variables {#1f7e4f0f}</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">No#</th>
<th data-quarto-table-cell-role="th">CTQ</th>
<th data-quarto-table-cell-role="th">Type</th>
<th data-quarto-table-cell-role="th">Objective</th>
<th data-quarto-table-cell-role="th">Target</th>
<th data-quarto-table-cell-role="th">LSL</th>
<th data-quarto-table-cell-role="th">USL</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1</td>
<td>Accuracy</td>
<td>Measurable</td>
<td>Improved</td>
<td>0.85</td>
<td>-</td>
<td>0.95</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2</td>
<td>Notification Delay Time</td>
<td>Measurable</td>
<td>Minimized</td>
<td>1Week</td>
<td>-</td>
<td>&lt;2 Wks.</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</section>
<section id="performance-evaluation-stability-analysis." class="level2" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="performance-evaluation-stability-analysis."><span class="header-section-number">5.3</span> Performance Evaluation-(Stability Analysis).</h2>
<div id="b31d7488" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>df_org <span class="op">=</span> (</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    pl.read_csv(</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>        <span class="vs">r"/Users/malleshamyamulla/Desktop/SSBBA/MBB_PROJECT/data/DBAS_Projects_Data_Tidy_V3.csv"</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    .drop([<span class="st">"Started Date"</span>, <span class="st">"Complete Date"</span>, <span class="st">"NO_OF_SERVICE_WORKING_HRS"</span>])</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    .with_columns(pl.col(<span class="st">"Project Name"</span>).<span class="bu">str</span>.replace_all(<span class="st">"PROJECT"</span>, <span class="st">"P"</span>))</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>).<span class="bu">filter</span>(pl.col(<span class="st">"accuracy_"</span>).is_not_null())</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>df_org <span class="op">=</span> df_org.to_pandas()</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>df_dbas_project <span class="op">=</span> df_org.drop(<span class="st">"NO_OF_DAYS"</span>, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>df_dbas_project.columns <span class="op">=</span> [</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Pname"</span>,</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"#Files"</span>,</span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">"#Days"</span>,</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">"#Analyst"</span>,</span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">"#PII_PHI"</span>,</span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">"#FPS"</span>,</span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">"#FNS"</span>,</span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>    <span class="st">"FPS_FNS"</span>,</span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>    <span class="st">"TPS_TNS"</span>,</span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>    <span class="st">"_Accuracy"</span>,</span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a>df_dbas_project <span class="op">=</span> df_dbas_project[<span class="op">~</span>df_dbas_project[<span class="st">"_Accuracy"</span>].isna()]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="checking-process-stability" class="level3" data-number="5.3.1">
<h3 data-number="5.3.1" class="anchored" data-anchor-id="checking-process-stability"><span class="header-section-number">5.3.1</span> Checking Process Stability</h3>
<section id="boxplot-and-histogram-on-performance-variable.accuracy" class="level4" data-number="5.3.1.1">
<h4 data-number="5.3.1.1" class="anchored" data-anchor-id="boxplot-and-histogram-on-performance-variable.accuracy"><span class="header-section-number">5.3.1.1</span> BoxPlot and Histogram on Performance Variable.(Accuracy)</h4>
<div id="605750f2" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># VIS-1</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a figure and subplots</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>fig, (ax1, ax2) <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">14</span>, <span class="dv">4</span>))</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>p1 <span class="op">=</span> sns.boxplot(df_dbas_project[<span class="st">"_Accuracy"</span>], ax<span class="op">=</span>ax1)</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>p2 <span class="op">=</span> sns.histplot(df_dbas_project[<span class="st">"_Accuracy"</span>], ax<span class="op">=</span>ax2, kde<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>p1.set_title(<span class="st">"BoxPlot: Document Classification Accuracy-Assignable + Random"</span>)</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>p2.set_title(<span class="st">"Histogram: Document Classification Accuracy-Assignable + Random"</span>)</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>plt.suptitle(<span class="st">"Stability Analysis - Document Classification Accuracy"</span>)</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-17-output-1.png" width="1328" height="378" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p><strong>Inference:</strong></p>
<p>The distribution of <strong>Accuracy</strong> values is approximately normal.</p>
</section>
<section id="descriptive-on-performance-variable.accuracy" class="level4" data-number="5.3.1.2">
<h4 data-number="5.3.1.2" class="anchored" data-anchor-id="descriptive-on-performance-variable.accuracy"><span class="header-section-number">5.3.1.2</span> Descriptive on Performance Variable.(Accuracy)</h4>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>pd.DataFrame(df_dbas_project[<span class="st">"_Accuracy"</span>].describe()).T.<span class="bu">apply</span>(<span class="kw">lambda</span> x:<span class="bu">round</span>(x,<span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="17">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<caption>Descriptive Stats on Accuracy {#9105b569}</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">count</th>
<th data-quarto-table-cell-role="th">mean</th>
<th data-quarto-table-cell-role="th">std</th>
<th data-quarto-table-cell-role="th">min</th>
<th data-quarto-table-cell-role="th">25%</th>
<th data-quarto-table-cell-role="th">50%</th>
<th data-quarto-table-cell-role="th">75%</th>
<th data-quarto-table-cell-role="th">max</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">_Accuracy</td>
<td>234.0</td>
<td>0.72</td>
<td>0.17</td>
<td>0.34</td>
<td>0.6</td>
<td>0.72</td>
<td>0.82</td>
<td>1.0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</section>
<section id="run-chart-on-performance-variable.accuracy" class="level4" data-number="5.3.1.3">
<h4 data-number="5.3.1.3" class="anchored" data-anchor-id="run-chart-on-performance-variable.accuracy"><span class="header-section-number">5.3.1.3</span> Run Chart on Performance Variable.(Accuracy)</h4>
<div id="19b68b3e" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>create_run_chart(df_dbas_project, <span class="st">"_Accuracy"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-19-output-1.png" width="1411" height="529" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p><strong>Inference:</strong></p>
<p>Some projects in the Run Chart have a document classification accuracy of 1.0. This might be due to the low volume of documents in these projects (less than 10 files). which will be studied further.</p>
</section>
</section>
<section id="study-on-assignable-causes" class="level3" data-number="5.3.2">
<h3 data-number="5.3.2" class="anchored" data-anchor-id="study-on-assignable-causes"><span class="header-section-number">5.3.2</span> Study on Assignable causes</h3>
<div id="822e20e4" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>df_dbas_project_tidy <span class="op">=</span> df_dbas_project[</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    (df_dbas_project[<span class="st">"#Files"</span>] <span class="op">&gt;</span> <span class="dv">10</span>) <span class="op">&amp;</span> (df_dbas_project[<span class="st">"#Files"</span>] <span class="op">&lt;</span> <span class="dv">10000</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Notes:</strong></p>
<ol type="1">
<li><p>There are a total of 234 data points.</p></li>
<li><p>Out of the 234 data points, 68 are identified as having assignable causes. These projects likely have high accuracy (1.0) due to low document volume (less than 10 files). With a smaller number of documents, it’s generally easier for analysts to achieve perfect accuracy in classification.</p></li>
<li><p>We have done an investigation on these 68 data points and tag them as ASSINGNABLE and the remaining are as RANDOM once.</p></li>
<li><p>We would now conduct a stability analysis on thes RANDOM chance data points.</p></li>
</ol>
<div id="3f42fb11" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># VIS-1</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a figure and subplots</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>fig, (ax1, ax2) <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">14</span>, <span class="dv">4</span>))</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>p1 <span class="op">=</span> sns.boxplot(df_dbas_project_tidy[<span class="st">"_Accuracy"</span>], ax<span class="op">=</span>ax1)</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>p2 <span class="op">=</span> sns.histplot(df_dbas_project_tidy[<span class="st">"_Accuracy"</span>], ax<span class="op">=</span>ax2, kde<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>p1.set_title(<span class="st">"BoxPlot: Document Classification Accuracy- Random Chances Only"</span>)</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>p2.set_title(<span class="st">"Histogram: Document Classification Accuracy-Random Chances Only"</span>)</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>plt.suptitle(<span class="st">"Stability Analysis - Document Classification Accuracy"</span>)</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-21-output-1.png" width="1328" height="378" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="3ef5a27b" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>create_run_chart(df_dbas_project_tidy, <span class="st">"_Accuracy"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-22-output-1.png" width="1411" height="529" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="6fda43d4" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>custom_ols_qqplot(df_dbas_project_tidy[<span class="st">'_Accuracy'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-23-output-1.png" width="593" height="455" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>pd.DataFrame(df_dbas_project_tidy[<span class="st">"_Accuracy"</span>].describe()).T.<span class="bu">apply</span>(<span class="kw">lambda</span> x:<span class="bu">round</span>(x,<span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="23">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<caption>Descriptive Stats on Accuracy {#e0f6f78e}</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">count</th>
<th data-quarto-table-cell-role="th">mean</th>
<th data-quarto-table-cell-role="th">std</th>
<th data-quarto-table-cell-role="th">min</th>
<th data-quarto-table-cell-role="th">25%</th>
<th data-quarto-table-cell-role="th">50%</th>
<th data-quarto-table-cell-role="th">75%</th>
<th data-quarto-table-cell-role="th">max</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">_Accuracy</td>
<td>166.0</td>
<td>0.67</td>
<td>0.14</td>
<td>0.34</td>
<td>0.58</td>
<td>0.67</td>
<td>0.79</td>
<td>0.96</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<p><strong>Inferences:</strong></p>
<ul>
<li><p>Count: There are 166 data points (samples) included in the table.</p></li>
<li><p>Mean: The average accuracy across all data points is 0.67.</p></li>
<li><p>Standard Deviation (SD): The data has a standard deviation of 0.14. This indicates the data points are somewhat clustered around the mean, but there’s also some variability.</p></li>
<li><p>The data likely follows a bell-shaped curve (normal distribution) because the mean is close to the median, and the values are spread out somewhat evenly around the center.</p></li>
<li><p>Most of the accuracy values fall between 0.58 and 0.79 (between Q1 and Q3).</p></li>
<li><p>There are some outliers on both ends, with a few data points having accuracy as low as 0.34 and as high as 0.96.</p></li>
</ul>
<p><strong>Conclusion:</strong></p>
<p>To assess the stability of our document review process, we removed assignable causes such as low document volume projects from the data and re-analyzed the remaining random variations in classification accuracy. This analysis of a statistically stable process will help us identify areas for improvement and ultimately enhance the accuracy of document classification and extraction for future projects.</p>
</section>
</section>
<section id="performance-evaluation-capability-analysis." class="level2" data-number="5.4">
<h2 data-number="5.4" class="anchored" data-anchor-id="performance-evaluation-capability-analysis."><span class="header-section-number">5.4</span> Performance Evaluation-(Capability Analysis).</h2>
<section id="business-specifications." class="level3" data-number="5.4.1">
<h3 data-number="5.4.1" class="anchored" data-anchor-id="business-specifications."><span class="header-section-number">5.4.1</span> Business Specifications.</h3>
<table class="table">
<caption>Business Specification</caption>
<thead>
<tr class="header">
<th>Spec</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>CTQ</td>
<td>Improve Classification Accuracy</td>
</tr>
<tr class="even">
<td>Mean</td>
<td>0.67</td>
</tr>
<tr class="odd">
<td>SD</td>
<td>0.14</td>
</tr>
<tr class="even">
<td>LSL</td>
<td>0</td>
</tr>
<tr class="odd">
<td>USL</td>
<td>0.95</td>
</tr>
</tbody>
</table>
</section>
<section id="performance-metrics" class="level3" data-number="5.4.2">
<h3 data-number="5.4.2" class="anchored" data-anchor-id="performance-metrics"><span class="header-section-number">5.4.2</span> Performance Metrics</h3>
<table class="table">
<caption>Performance Metrics</caption>
<thead>
<tr class="header">
<th>Metric</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Total NonConfirmances</td>
<td>0.023</td>
</tr>
<tr class="even">
<td>Yield</td>
<td>0.97725</td>
</tr>
<tr class="odd">
<td>C<sub>P</sub></td>
<td>1.13095</td>
</tr>
<tr class="even">
<td>C<sub>Pk</sub></td>
<td>0.66667</td>
</tr>
<tr class="odd">
<td>SigmaLevel</td>
<td>3.49998</td>
</tr>
<tr class="even">
<td>DPMO</td>
<td>22750.98385</td>
</tr>
</tbody>
</table>
<ol type="1">
<li><p><strong>Yield (0.98):</strong> This indicates a very good performance with a yield.</p></li>
<li><p><strong>Capability: C<sub>P</sub>(Potential) and C<sub>Pk</sub>(Achieved):</strong></p></li>
</ol>
<ul>
<li><p>These C<sub>P</sub>(1.13) and C<sub>Pk</sub>(0.67) values are moderate,the C<sub>P</sub> value (1.3) is greater than 1 indicates the process spread is less than the total specification allowance. This implies the process has the potential to produce accurate results within the given specifications.</p></li>
<li><p>C<sub>Pk</sub> is lower than C<sub>P</sub> which indicates that the process has good potential for accuracy but is not perfectly centered within the desired specification limits.</p></li>
</ul>
<ol start="3" type="1">
<li><p><strong>Sigma Level:</strong> The sigma level is significantly at 3.5, indicating a narrower spread of data points around the mean.</p></li>
<li><p><strong>DPMO:</strong> The Defects Per Million Opportunities (DPMO) is 22750, its reflecting a much lower rate of misclassified documents.</p></li>
</ol>
<p><strong>Conclusion</strong></p>
<p>The Document Classification process can achieve the desired results,and there is a chance to improve the process by making it more centered within the specification limits, reducing the risk of producing out-of-specification items.</p>
</section>
</section>
</section>
<section id="dmaic-analyze" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> DMAIC: Analyze</h1>
<section id="detailed-process-analysis" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="detailed-process-analysis"><span class="header-section-number">6.1</span> Detailed Process Analysis</h2>
<section id="research-questions." class="level3" data-number="6.1.1">
<h3 data-number="6.1.1" class="anchored" data-anchor-id="research-questions."><span class="header-section-number">6.1.1</span> Research Questions.</h3>
<p><strong>A. Distribution of PII/PHI Documents:</strong></p>
<p><em>1. What is the spread of PII/PHI documents across projects? (Are there outliers with very high or very low PII/PHI proportions?)</em></p>
<p><em>2. Are there different proportions of PII/PHI documents based on project type or other categories?</em></p>
<div id="931d9d41" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>sns.histplot(DF_SSBB_TIDY[<span class="st">"prop_of_pii_phi"</span>])</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Proportion of PII/PHI Classified Document'</span>)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-25-output-1.png" width="601" height="455" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p><strong>Inferences:</strong></p>
<p>The distribution of PII/PHI documents appears to be relatively normal, centered around a proportion of 0.85. This indicates that most projects have a similar proportion of documents containing PII/PHI.</p>
<p>However, there is also some variation, with proportions ranging from approximately 0.75 to 0.98. This suggests that a few projects may have a significantly higher or lower proportion of PII/PHI documents compared to the average.</p>
<p><strong>B. PII/PHI Files vs.&nbsp;Total Project Files:</strong></p>
<p><em>3. Is there a correlation between the number of PII/PHI files and the total number of project files?(Are larger projects more likely to have more PII/PHI documents?)</em></p>
<div id="a7f477d6" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(DF_SSBB_TIDY, x<span class="op">=</span><span class="st">"#Files"</span>, y<span class="op">=</span><span class="st">"#PII_PHI"</span>)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Number of Files Vs. Number of PII_PHI classified docs'</span>)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-26-output-1.png" width="605" height="455" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p><strong>Inferences:</strong></p>
<p>Yes, there appears to be a positive correlation between the number of PII/PHI files and the total number of project files based on the scatter plot. This suggests that projects with a larger number of documents tend to have a higher number of PII/PHI files. However, the scatter plot doesn’t necessarily confirm that projects with fewer documents will have fewer PII/PHI files. There could be outliers or projects with specific characteristics that deviate from this trend.</p>
<p><strong>C. PII/PHI Volume and Notification List Delivery Time:</strong></p>
<p><em>4. Does the number of PII/PHI documents in a project impact the time it takes to deliver a notification list?</em></p>
<div id="d06e3f6c" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(DF_SSBB_TIDY, y<span class="op">=</span><span class="st">"#Days"</span>, x<span class="op">=</span><span class="st">"#PII_PHI"</span>)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Number of PII_PHI classified docs Vs No.of Days'</span>)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-27-output-1.png" width="589" height="455" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p><strong>Inferences:</strong></p>
<p>There appears to be a positive correlation between the number of PII/PHI documents in a project and the time it takes to deliver a notification list. This is likely because processing a larger volume of documents naturally takes more time. As seen in the above visualization, projects with 4000, 5000, or 8000 documents tend to have longer processing times.</p>
<p>However, the number of documents isn’t the sole factor. Even smaller projects (below 1000 documents) can experience extended processing times. This could be due to the complexity of the data, such as:</p>
<p><strong>Varied formats:</strong> Having documents in different formats (e.g., PDFs, spreadsheets, text files) might require additional steps to convert or extract the data consistently.</p>
<p><strong>Large volumes of observations:</strong> Even within a smaller number of documents, a high number of data points (e.g., many rows in a spreadsheet) can extend processing time.</p>
<p><strong>Complex extractions/validations:</strong> If the PII/PHI data extraction process is intricate or requires extensive validation to ensure accuracy, it can add to the overall time.</p>
<p>In conclusion, while the number of documents plays a role, the complexity of the data within those documents also significantly impacts notification list delivery time.</p>
<p><strong>D. Analyst Allocation and PII/PHI Volume:</strong></p>
<p><em>5. How are analysts assigned to projects? (Is there a system based on project complexity or PII/PHI volume?)</em></p>
<p><em>6. Do projects with a higher volume of PII/PHI documents have more analysts assigned? (Compare analyst allocation across projects with varying PII/PHI volume)</em></p>
<div id="1530772c" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(DF_SSBB_TIDY, y<span class="op">=</span><span class="st">"#Analyst"</span>, x<span class="op">=</span><span class="st">"#PII_PHI"</span>)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Number of PII_PHI classified docs Vs No.of Analysts.'</span>)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-28-output-1.png" width="601" height="455" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p><strong>Inferences:</strong></p>
<p>The provided visualization suggests a possible correlation between the number of project documents and the number of analysts assigned. Projects with a larger volume of documents (likely exceeding 2000) tend to have more analysts allocated. This makes sense as it allows analysts to dedicate sufficient time for thorough processing.</p>
<p>However, it’s important to consider that the number of documents might not be the sole factor influencing analyst allocation. Other factors like project complexity or specific PII/PHI content might also play a role.</p>
<p><strong>E. PII Volume and Document Classification Accuracy:</strong></p>
<p><em>7. Is there a relationship between the number of PII/PHI documents and the accuracy of document classification? (Does a higher volume lead to lower accuracy?)</em></p>
<div id="c50b4da1" class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(DF_SSBB_TIDY, y<span class="op">=</span><span class="st">"Accuracy"</span>, x<span class="op">=</span><span class="st">"#PII_PHI"</span>)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Number of PII_PHI classified docs Vs Accuracy'</span>)</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-29-output-1.png" width="593" height="455" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p><strong>Inferences:</strong></p>
<p>The number of PII/PHI documents may not directly impact document classification accuracy. While a smaller volume of documents can lead to lower accuracy due to limited training data, larger projects can also experience accuracy issues for other reasons. In most cases, large projects haven’t shown a significant decrease in accuracy.</p>
<p><strong>F. Number of Analysts and Classification Accuracy:</strong></p>
<p><em>8. Does involving more analysts in PII/PHI reviews improve classification accuracy? (Visualize the relationship between analyst count and accuracy)</em></p>
<div id="eb8a2c63" class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(DF_SSBB_TIDY, y<span class="op">=</span><span class="st">"Accuracy"</span>, x<span class="op">=</span><span class="st">"#Analyst"</span>)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Number of Analysts Vs Accuracy'</span>)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-30-output-1.png" width="593" height="455" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p><strong>Inferences:</strong></p>
<p>Involving more analysts in PII/PHI reviews may not directly correlate to improved classification accuracy. While a limited number of analysts might lead to lower accuracy due to workload or lack of diverse perspectives, simply adding more analysts isn’t a guaranteed solution. In most cases, the number of analysts on a project hasn’t significantly impacted overall accuracy.</p>
<p><strong>G. False Positives vs.&nbsp;False Negatives:</strong></p>
<p><em>9. What is the distribution of false positives and false negatives in PII/PHI classification? (Are there more of one type of error?)</em></p>
<div id="99f23883" class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>sns.countplot(DF_SSBB_TIDY,x<span class="op">=</span><span class="st">"FPS_vs_FNS"</span>)</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Are FalsePostive higher than False Negatives?'</span>)</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-31-output-1.png" width="597" height="455" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p><strong>Inferences:</strong></p>
<p>I analyzed the results and categorized them based on whether there were more missed PII/PHI instances (false negatives) or mistakenly identified ones (false positives).</p>
<p>From the visualization, it appears that there are more false negatives than false positives. This means the analysts might be missing more relevant PII/PHI data than incorrectly identifying non-PII/PHI data. However, further statistical analysis is recommended for a more conclusive picture.</p>
<p><strong>H. True vs.&nbsp;False Classifications:</strong></p>
<p><em>10. How do the volumes of correctly classified documents (true positives) compare to incorrectly classified documents (false positives and negatives)?</em></p>
<div id="f50ad44e" class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>sns.countplot(DF_SSBB_TIDY,x<span class="op">=</span><span class="st">"FPFN_vs_TPTN"</span>)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Are TrueClassifications higher than False Classification?'</span>)</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-32-output-1.png" width="597" height="455" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p><strong>Inferences:</strong></p>
<p>I have categorized the observations into two groups based on the sum:</p>
<p>More correct classifications (True Positives &amp; True Negatives) than incorrect ones (False Positives &amp; False Negatives): This would be labeled as “Correct(TPS_TNS) &gt; Incorrect(FPS_FNS)”.</p>
<p>More incorrect classifications than correct ones: This would be labeled as “Incorrect(FPS_FNS) &gt; Correct(TPS_TNS)”.</p>
<p>Based on this analysis, it appears that there are significantly more correctly classified documents (identified as PII/PHI when they are, and not identified as PII/PHI when they aren’t) compared to documents that are classified incorrectly (mistakenly identified or missed).</p>
<p><strong>I. Project Completion Time:</strong></p>
<p><em>11. What is the distribution of project completion times (number of weeks)? (Are there outliers with very long or short completion times?)</em></p>
<div id="6d3a2c1c" class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>sns.countplot(</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>    DF_SSBB_TIDY,</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"weeks_bucket"</span>,</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>    order<span class="op">=</span>DF_SSBB_TIDY[<span class="st">"weeks_bucket"</span>].value_counts().index,</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'No of Projects Completed for in each categorized week bucket.'</span>)</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-33-output-1.png" width="597" height="455" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p><strong>Inferences:</strong></p>
<p>Our analysis shows that the majority of projects (around 80%) are completed within a short timeframe of 2 weeks. This suggests a well-defined and efficient process for these projects.</p>
<p><strong>J. Volume of Classified PII/PHI Documents:</strong></p>
<p><em>12. What is the total volume of PII/PHI documents that have been classified? (This provides a general sense of workload)</em></p>
<div id="968e0212" class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>sns.countplot(</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>    DF_SSBB_TIDY,</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"pii_phi_bucket"</span>,</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>    order<span class="op">=</span>DF_SSBB_TIDY[<span class="st">"pii_phi_bucket"</span>].value_counts().index,</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'No of PII/PHI Classified Buckets'</span>)</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-34-output-1.png" width="589" height="455" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p><strong>Inferences:</strong></p>
<p>We’ve classified a high volume of PII/PHI documents - approximately 95% fall within a range of up to 5,000 documents. This gives us a good idea of the overall workload involved in the PII/PHI classification process.</p>
</section>
<section id="statistical-testinferences-on-research-questions." class="level3" data-number="6.1.2">
<h3 data-number="6.1.2" class="anchored" data-anchor-id="statistical-testinferences-on-research-questions."><span class="header-section-number">6.1.2</span> Statistical Test/Inferences on Research Questions.</h3>
<p><strong>A.Hypothesis #1.</strong></p>
<p><em>Null Hypothesis(H<sub>0</sub>):The average Accuracy of PII/PHI document classification is 0.67.</em></p>
<p><em>Alternate Hypothesis(H<sub>A</sub>):The average Accuracy of PII/PHI document classification is not equal to 0.67</em></p>
<div id="tbl-letters" class="quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-letters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;3: OneSample T-test(Two Sided)
</figcaption>
<div aria-describedby="tbl-letters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table">
<thead>
<tr class="header">
<th>Parameters</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>t-statistic</td>
<td>0.09</td>
</tr>
<tr class="even">
<td>p-value</td>
<td>0.92</td>
</tr>
<tr class="odd">
<td>CI at 95%</td>
<td>(0.64,0.69)</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p><strong>Inferences:</strong></p>
<p>One sample T-test is carried out to test this hypothesis, here p-value(0.92) suggest that we failed to reject the null hypothesis. The data doesn’t provide strong enough evidence to say the average accuracy is definitively different from 0.67.</p>
<p>And the lower t-statistic(0.09) also indicates that the observed average accuracy is very close to the hypothesized value (0.67).</p>
<p><strong>B.Hypothesis #2.</strong></p>
<p><em>Null Hypothesis(H<sub>0</sub>):The average Proportion of PII/PHI documents is 0.8.</em></p>
<p><em>Alternate Hypothesis(H<sub>A</sub>):The average Proportion of PII/PHI documents is more than 0.8</em></p>
<div id="tbl-letters" class="quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-letters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;4: OneSample T-test(Right tailed)
</figcaption>
<div aria-describedby="tbl-letters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table">
<thead>
<tr class="header">
<th>Parameters</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>t-statistic</td>
<td>21.01</td>
</tr>
<tr class="even">
<td>p-value</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td>CI at 95%</td>
<td>(0.88,-)</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p><strong>Inferences:</strong></p>
<p>One Sample t-test (right tailed) test is carried out to see if the average proportion of PII/PHI documents is more than 0.8 or not, the p-value(0.0) suggest that we can reject the null hypothesis in favor of alternate, and the data provides strong evidence to suggest that the average proportion of PII/PHI documents is significantly higher than the initially assumed value of 0.8.</p>
<p><strong>C.Hypothesis #3.</strong></p>
<p><em>Null Hypothesis(H<sub>0</sub>):The average accuracy for FNS&gt;FPS is equal to the average accuracy for FPS&gt;FNS (there’s no difference).</em></p>
<p><em>Alternate Hypothesis(H<sub>A</sub>):The average accuracy for FNS&gt;FPS is different from the average accuracy for FPS&gt;FNS.</em></p>
<div id="tbl-letters" class="quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-letters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;5: TwoSample T-test
</figcaption>
<div aria-describedby="tbl-letters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table">
<thead>
<tr class="header">
<th>Parameters</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>t-statistic</td>
<td>-4.64</td>
</tr>
<tr class="even">
<td>p-value</td>
<td>0.0</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p><strong>Inferences:</strong></p>
<p>I have conducted a two-sample t-test to compare the accuracy between these two scenarios. The resulting p-value of 0.0 indicates a statistically significant difference. The data strongly suggests that the average accuracy for FNS&gt;FPS scenarios is not the same as the average accuracy for FPS&gt;FNS scenarios. There’s a difference in how well the classification performs depending on whether there are more missed PII/PHI instances or more incorrectly identified ones.</p>
<p><strong>D.Hypothesis #4.</strong></p>
<p><em>Null Hypothesis(H<sub>0</sub>):There is NO difference between the average accuracy of TPS_TNS&gt;FPS_FNS and FPS_FNS&gt;TPS_TNS in classfication</em></p>
<p><em>Alternate Hypothesis(H<sub>A</sub>):There is a difference between the accuracy of TPS_TNS&gt;FPS_FNS and FPS_FNS&gt;TPS_TNS in classfication</em></p>
<div id="tbl-letters" class="quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-letters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;6: TwoSample T-test
</figcaption>
<div aria-describedby="tbl-letters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table">
<thead>
<tr class="header">
<th>Parameters</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>t-statistic</td>
<td>10.22</td>
</tr>
<tr class="even">
<td>p-value</td>
<td>0.0</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p><strong>Inferences:</strong></p>
<p>I have conducted a two-sample t-test to compare the accuracy between these two scenarios. The resulting p-value of 0.0 indicates a statistically significant difference. The data strongly suggests that the average accuracy for TPS_TNS&gt;FPS_FNS scenarios is not the same as the average accuracy for FPS_FNS&gt;TPS_TNS scenarios. There’s a difference in how well the classification performs depending on whether there are more missed PII/PHI instances or more incorrectly identified ones.</p>
<p><strong>E.Hypothesis #5.</strong></p>
<p><em>Null Hypothesis(H<sub>0</sub>):The true proportion of classifications with FNS&gt;FPS is 0.6 </em></p>
<p><em>Alternate Hypothesis(H<sub>A</sub>):The true proportion of classifications with FNS&gt;FPS is not equal to 0.6</em></p>
<div id="tbl-letters" class="quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-letters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;7: OneProportion Z-test
</figcaption>
<div aria-describedby="tbl-letters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table">
<thead>
<tr class="header">
<th>Parameters</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Z-statistic</td>
<td>0.06</td>
</tr>
<tr class="even">
<td>p-value</td>
<td>0.94</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p><strong>Inferences:</strong></p>
<p>I have a one-proportion z-test to analyze the data. The resulting p-value of 0.94 indicates that we fail to reject the null hypothesis, bbased on the data, we don’t have strong evidence to say the true proportion of FNS&gt;FPS classifications is definitively different from 0.6.</p>
<p><strong>F. Hypothesis #6.</strong></p>
<p><em>Null Hypothesis(H<sub>0</sub>):The proportion of False Positives (FPS) compared to False Negatives (FNS) is the same across both categories: documents with more False Positives &amp; False Negatives (FPFN) and documents with more True Positives &amp; True Negatives (TPTN).</em></p>
<p><em>Alternate Hypothesis(H<sub>A</sub>):The proportion of FPS compared to FNS is not the same across the two categories (FPFN vs.&nbsp;TPTN).</em></p>
<div id="1effc824" class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>sns.countplot(DF_SSBB_TIDY,x<span class="op">=</span><span class="st">"FPFN_vs_TPTN"</span>,hue<span class="op">=</span><span class="st">"FPS_vs_FNS"</span>)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-35-output-1.png" width="589" height="435" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="tbl-letters" class="quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-letters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;8: TwoProportion Z-test
</figcaption>
<div aria-describedby="tbl-letters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table">
<thead>
<tr class="header">
<th>Parameters</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Z-statistic</td>
<td>8.62</td>
</tr>
<tr class="even">
<td>p-value</td>
<td>0.00</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p><strong>Inferences:</strong></p>
<p>The Two-Sample Z-test was conducted to compare the proportion of False Positives (FPS) vs.&nbsp;False Negatives (FNS) across two categories: documents with more False Positives &amp; False Negatives (FPFN) and documents with more True Positives &amp; True Negatives (TPTN).</p>
<p>The resulting p-value of 0.0 suggests a statistically significant difference between the two categories. In other words, the proportion of FPS compared to FNS is not the same for documents with high FPFN vs.&nbsp;documents with high TPTN.</p>
<p><strong>G.Hypothesis #7.</strong></p>
<p><em>Null Hypothesis(H<sub>0</sub>): There is no association between the number of PII/PHI category buckets a project belongs to and its finishing time in weeks. In other words, project finishing time is the same across all PII/PHI category buckets.</em> <em>Alternate Hypothesis(H<sub>A</sub>): There is an association between the number of PII/PHI category buckets and project finishing time. This means projects with different numbers of PII/PHI categories might have different average finishing times in weeks.</em></p>
<div id="bcb45462" class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>sns.countplot(</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>    DF_SSBB_TIDY[</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>        (DF_SSBB_TIDY[<span class="st">"pii_phi_bucket"</span>] <span class="op">!=</span> <span class="st">"more than 5K"</span>)</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>        <span class="op">&amp;</span> (DF_SSBB_TIDY[<span class="st">"weeks_bucket"</span>] <span class="op">!=</span> <span class="st">"more than 4 weeks"</span>)</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>        <span class="op">&amp;</span> (DF_SSBB_TIDY[<span class="st">"weeks_bucket"</span>] <span class="op">!=</span> <span class="st">"4W"</span>)</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>    ],</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"pii_phi_bucket"</span>,</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>    hue<span class="op">=</span><span class="st">"weeks_bucket"</span>,</span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-36-output-1.png" width="589" height="435" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="tbl-letters" class="quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-letters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;9: Chi-Square Test Association
</figcaption>
<div aria-describedby="tbl-letters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table">
<thead>
<tr class="header">
<th>Parameters</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>ChiSquare</td>
<td>83.62</td>
</tr>
<tr class="even">
<td>p-value</td>
<td>0.00</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p><strong>Inferences:</strong></p>
<p>The Chi-Square test was conducted to investigate a possible association between the number of PII/PHI category buckets in a project and its finishing time (weeks).</p>
<p>The results show a statistically significant p-value (0.0), which allows us to reject the null hypothesis.it means there’s evidence of a relationship between the number of PII/PHI categories and project finishing time. Projects with different numbers of PII/PHI categories might, on average, take different amounts of time to complete in weeks.</p>
<p><strong>H.Hypothesis #8.</strong></p>
<p><em>Null Hypothesis(H<sub>0</sub>):On average, the Classification accuracy of a project isn’t affected by its the size of PII/PHI volumes</em></p>
<p><em>Alternate Hypothesis(H<sub>A</sub>):On average, the Classification accuracy of a project is affected by its the size of PII/PHI volumes</em></p>
<div id="ac2cdd74" class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>sns.boxplot(x<span class="op">=</span><span class="st">'pii_phi_bucket'</span>,y<span class="op">=</span><span class="st">'Accuracy'</span>,data<span class="op">=</span>DF_SSBB_TIDY)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-37-output-1.png" width="593" height="435" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="9b0fa6d5" class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the model formula</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>df_3g_model <span class="op">=</span> ols(</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Accuracy ~ pii_phi_bucket"</span>, data<span class="op">=</span>DF_SSBB_TIDY</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>).fit()</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform ANOVA</span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>anova_table_3g <span class="op">=</span> anova_lm(df_3g_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>anova_table_3g.<span class="bu">apply</span>(<span class="kw">lambda</span> x:<span class="bu">round</span>(x,<span class="dv">5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="38">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<caption>ANOVA TABLE {#bc6e9960}</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">df</th>
<th data-quarto-table-cell-role="th">sum_sq</th>
<th data-quarto-table-cell-role="th">mean_sq</th>
<th data-quarto-table-cell-role="th">F</th>
<th data-quarto-table-cell-role="th">PR(&gt;F)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">pii_phi_bucket</td>
<td>4.0</td>
<td>0.21050</td>
<td>0.05262</td>
<td>2.75543</td>
<td>0.02982</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Residual</td>
<td>161.0</td>
<td>3.07482</td>
<td>0.01910</td>
<td>NaN</td>
<td>NaN</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<p><strong>Inferences:</strong></p>
<p>I have conducted a one-way ANOVA test to investigate the relationship between the volume of PII/PHI documents in a project and its average classification accuracy.</p>
<p>The resulting p-value of 0.02 suggests a statistically significant difference. This means we can reject the null hypothesis. In simpler terms, the data indicates that the size of PII/PHI volumes does, on average, affect the classification accuracy of projects.</p>
<table class="table">
<tbody>
<tr class="odd">
<td><strong>Conclusions</strong></td>
</tr>
</tbody>
</table>
<p><em>From the above statistical tests result we can conclude that these results provide valuable insights for improving PII/PHI classification.</em></p>
<ol type="1">
<li><p><strong>The average accuracy might be hovering around 0.67, but there’s room for improvement.</strong></p></li>
<li><p><strong>There’s a higher proportion of PII/PHI documents than initially expected.</strong></p></li>
<li><p><strong>The classification performs differently depending on the type of error (missed vs.&nbsp;incorrect PII/PHI).</strong></p></li>
<li><p><strong>The proportion of errors (False Positives vs.&nbsp;False Negatives) also varies based on document characteristics.</strong></p></li>
<li><p><strong>Project size (PII/PHI volume) can impact classification accuracy.</strong></p></li>
</ol>
</section>
<section id="study-on-root-causes-using-text-mining-techniques." class="level3" data-number="6.1.3">
<h3 data-number="6.1.3" class="anchored" data-anchor-id="study-on-root-causes-using-text-mining-techniques."><span class="header-section-number">6.1.3</span> Study on Root Causes using text mining techniques.</h3>
<p>Based on an internal survey, we analyzed feedback from our team of analysts regarding the challenges they face during manual PII/PHI extraction from various files.</p>
<p>Here’s a breakdown of the key themes showed in the wordcloud maps.</p>
<section id="actions." class="level4" data-number="6.1.3.1">
<h4 data-number="6.1.3.1" class="anchored" data-anchor-id="actions."><span class="header-section-number">6.1.3.1</span> Actions.</h4>
<div id="be5de02b" class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>_generate_word_cloud(text_verb) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-40-output-1.png" width="389" height="389" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p><strong>1.Extract:</strong> This is the most prominent action analysts struggle with. They likely encounter difficulties in efficiently extracting the desired PII/PHI data from the files.</p>
<p><strong>2.Manage:</strong> This suggests analysts may have trouble managing large volumes of files or complex data structures while performing extractions.</p>
<p><strong>3.Handle:</strong> This indicates potential challenges in handling diverse file formats or unstructured data that requires additional processing.</p>
</section>
<section id="nouns." class="level4" data-number="6.1.3.2">
<h4 data-number="6.1.3.2" class="anchored" data-anchor-id="nouns."><span class="header-section-number">6.1.3.2</span> Nouns.</h4>
<div id="fcaa79f2" class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>_generate_word_cloud(text_noun) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-41-output-1.png" width="389" height="389" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p><strong>1.Data:</strong> This is the core focus of their work, with analysts primarily dealing with PII/PHI data.</p>
<p><strong>2.Files:</strong> The feedback indicates that the analysts process a significant number of files containing the PII/PHI.</p>
<p><strong>3.Sheets:</strong> This could refer to spreadsheets within the files or separate sheets containing the PII/PHI data. Analysts might be struggling with extracting data from multiple sheets or inconsistent sheet formats.</p>
</section>
<section id="adjectives." class="level4" data-number="6.1.3.3">
<h4 data-number="6.1.3.3" class="anchored" data-anchor-id="adjectives."><span class="header-section-number">6.1.3.3</span> Adjectives.</h4>
<div id="5c207533" class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>_generate_word_cloud(text_adj) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-42-output-1.png" width="389" height="389" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p><strong>1.Large:</strong> The volume of data or number of files may be overwhelming, making manual extraction time-consuming.</p>
<p><strong>2.Unstructured:</strong> The data format might not be organized in a way that’s easily digestible for automated extraction, requiring manual intervention.</p>
<p><strong>3.Different/Diverse:</strong> This suggests analysts encounter various file formats or data structures, making consistent extraction challenging.</p>
<p><strong>4.Accurate:</strong> Accuracy is likely a major concern, as ensuring they capture the correct PII/PHI is crucial.</p>
<p><strong>Overall, the feedback highlights the analyst’s struggle with the volume, format, and complexity of data when manually extracting PII/PHI. This information can help us identify solutions for streamlining the extraction process and improving their efficiency.</strong></p>
</section>
</section>
<section id="fmea" class="level3" data-number="6.1.4">
<h3 data-number="6.1.4" class="anchored" data-anchor-id="fmea"><span class="header-section-number">6.1.4</span> FMEA</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="DBAS_FMEA_FINAL.png" class="img-fluid figure-img"></p>
<figcaption>DBAS-FMEA</figcaption>
</figure>
</div>
</section>
<section id="pareto-analysis" class="level3" data-number="6.1.5">
<h3 data-number="6.1.5" class="anchored" data-anchor-id="pareto-analysis"><span class="header-section-number">6.1.5</span> Pareto Analysis</h3>
<p>Let’s identify the biggest contributors to low document classification accuracy.</p>
<p>We can use Pareto analysis, a technique that helps prioritize tasks based on their impact. It follows the 80/20 rule, where a small percentage (often 20%) of causes contribute to a large percentage (often 80%) of the effect.</p>
<p>Here are the potential causes for lower accuracy:</p>
<ol type="1">
<li><em>Manual Extraction of data</em></li>
<li><em>Manual Classification of documents</em></li>
<li><em>Inadequate training and process documentation</em></li>
<li><em>Inefficient Data De-duplication Algorithm</em></li>
<li><em>Inefficient Data Quality Control Algorithm</em></li>
</ol>
<p>By plotting these causes on a Pareto chart, we can see which ones have the biggest impact on accuracy.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="PARETO.png" class="img-fluid figure-img"></p>
<figcaption>DBAS-PARETO</figcaption>
</figure>
</div>
<p><strong>Looking at the Pareto chart, we can see that manual tasks (including Classification and Extraction) contribute the most (60%) to the low accuracy. Lack of proper training materials and process documentation (20%) is another significant factor.</strong></p>
</section>
<section id="summary-potential-variation-sourcesroot-causes" class="level3" data-number="6.1.6">
<h3 data-number="6.1.6" class="anchored" data-anchor-id="summary-potential-variation-sourcesroot-causes"><span class="header-section-number">6.1.6</span> Summary: Potential Variation Sources(Root Causes)</h3>
<div id="tbl-letters" class="quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-letters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;10: Root Causes
</figcaption>
<div aria-describedby="tbl-letters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table">
<colgroup>
<col style="width: 12%">
<col style="width: 62%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th>S.NO</th>
<th>RootCause</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Manual tasks (including Classification and Extraction)</td>
<td></td>
</tr>
<tr class="even">
<td>2</td>
<td>Struggle with volume, format, and complexity of data when manually extracting PII/PHI.</td>
<td></td>
</tr>
<tr class="odd">
<td>3</td>
<td>Lack of proper training materials and process documentation</td>
<td></td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
</section>
</section>
</section>
<section id="dmaic-improve" class="level1" data-number="7">
<h1 data-number="7"><span class="header-section-number">7</span> DMAIC: Improve</h1>
<section id="discover-variable-relationships" class="level2" data-number="7.1">
<h2 data-number="7.1" class="anchored" data-anchor-id="discover-variable-relationships"><span class="header-section-number">7.1</span> Discover Variable Relationships</h2>
<p>In the improvement phase of Six Sigma, we’re investigating automation opportunities for document classification and extraction tasks, which are currently handled manually.</p>
<p>We have data from past projects that holds valuable insights. This data includes the fields extracted from each document and the assigned classification labels. Notably, a team of analysts meticulously identified the header information and its corresponding labels.</p>
<p>By leveraging this labeled data, we can build a powerful classification model. This model will automate the process of classifying headers within future project files, significantly reducing manual effort and improving efficiency.</p>
<p>To gain insights into the data we’ll use for building the predictive model, we’ll perform some initial explorations:</p>
<ol type="1">
<li><p><em>Analyze header field text lengths to understand their distribution.</em></p></li>
<li><p><em>Investigate the number of words within each header.</em></p></li>
<li><p><em>Explore word frequencies and usage patterns within the headers.</em></p></li>
<li><p><em>Examine the class proportions for PII/PHI and Non-PII/PHI labels.</em></p></li>
</ol>
<p>The data in this table is a representative sample that will be used to build the predictive model.</p>
<div class="cell" data-execution_count="42">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>df_pii_phi_raw[ (df_pii_phi_raw[<span class="st">"tidy_field_len"</span>]<span class="op">&lt;</span><span class="dv">10</span>) ].sample(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="42">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<caption>DBAS DATA- PII/PHI and NO/PHI {#d81af647}</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">_dbas_field_name</th>
<th data-quarto-table-cell-role="th">class_label</th>
<th data-quarto-table-cell-role="th">_dbas_field_name_tidy</th>
<th data-quarto-table-cell-role="th">tidy_field_len</th>
<th data-quarto-table-cell-role="th">no_of_words</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">5088</td>
<td>New_Pt</td>
<td>1</td>
<td>new pt</td>
<td>6</td>
<td>2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">4317</td>
<td>CIN</td>
<td>0</td>
<td>cin</td>
<td>3</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8921</td>
<td>EarnTot03</td>
<td>0</td>
<td>earntot03</td>
<td>9</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5480</td>
<td>Pt_name</td>
<td>1</td>
<td>pt name</td>
<td>7</td>
<td>2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1935</td>
<td>MD(2)</td>
<td>0</td>
<td>md 2</td>
<td>4</td>
<td>2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11279</td>
<td>PayeeSup</td>
<td>0</td>
<td>payeesup</td>
<td>8</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6001</td>
<td>avg_hours_</td>
<td>0</td>
<td>avg hours</td>
<td>9</td>
<td>2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9488</td>
<td>Field176</td>
<td>0</td>
<td>field176</td>
<td>8</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1124</td>
<td>ECCRMANum</td>
<td>0</td>
<td>eccrmanum</td>
<td>9</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">8294</td>
<td>CR_2010</td>
<td>0</td>
<td>cr 2010</td>
<td>7</td>
<td>2</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<p>Here is the data dictionary.</p>
<p><strong>dbas_field_name (Original Header):</strong> This field stores the raw header text extracted from the project file. It might contain inconsistencies or extraneous characters.</p>
<p><strong>class_label (PII/PHI Classification):</strong> This field indicates whether the header likely contains Personally Identifiable Information (PII) or Protected Health Information (PHI). The value is binary:</p>
<pre><code>- 1: Represents a header containing PII/PHI (sensitive data).
- 0: Represents a header containing Non-PII/PHI (non-sensitive data).</code></pre>
<p><strong>dbas_field_name_tidy (Cleaned Header):</strong> This field is a cleaned version of the original header (dbas_field_name). It has undergone processing to remove unwanted characters, formatting inconsistencies, or extra spaces. This cleaned header is used for further analysis and model training.</p>
<p><strong>tidy_field_len (Clean Header Length):</strong> This field represents the number of characters in the cleaned header (dbas_field_name_tidy). It reflects the length of the header after any unnecessary characters or spaces are removed during the cleaning process.</p>
<p><strong>no_of_words (Number of Words):</strong> This field indicates the number of words present in the cleaned header (dbas_field_name_tidy). It provides insights into the overall complexity of the header and can be useful for feature engineering in the model building process.</p>
<div id="ae68c2ce" class="cell" data-execution_count="43">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a figure and subplots</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>fig, (ax1, ax2) <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">14</span>, <span class="dv">4</span>))</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>p1 <span class="op">=</span> sns.histplot(df_pii_phi_raw[<span class="st">"tidy_field_len"</span>],ax<span class="op">=</span>ax1)</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>p2 <span class="op">=</span> sns.boxplot(df_pii_phi_raw[<span class="st">"tidy_field_len"</span>],ax<span class="op">=</span>ax2)</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>p2.set_title(<span class="st">"BoxPlot"</span>)</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>p1.set_title(<span class="st">"Histogram"</span>)</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>plt.suptitle(<span class="st">"Header Field Text Length Distribution"</span>)</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-44-output-1.png" width="1328" height="377" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Our initial exploration focused on the distribution of text lengths within the header fields. Visualizations like box plots and histograms above revealed that:</p>
<ul>
<li><p>80% of the headers fall within a length range of 2 to 20 characters. This suggests a prevalence of relatively concise headers.</p></li>
<li><p>The remaining 20% of headers exhibit lengths exceeding 20 characters. These longer headers warrant further investigation.</p></li>
</ul>
<p>To understand the potential sensitivity of information within these longer headers, we’ll delve deeper. We’ll examine whether there’s a correlation between header length and the presence of PII/PHI and this analysis will help us determine if longer headers are more likely to contain sensitive data.</p>
<div class="cell" data-execution_count="44">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>pd.DataFrame(df_pii_phi_raw[df_pii_phi_raw[<span class="st">"tidy_field_len"</span>] <span class="op">&gt;</span> <span class="dv">20</span>][<span class="st">"class_label"</span>].value_counts()).reset_index()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="44">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<caption>Assignable Causes Per Each Classification {#88df9149}</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">class_label</th>
<th data-quarto-table-cell-role="th">count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1</td>
<td>309</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>0</td>
<td>175</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="c67d623c" class="cell" data-execution_count="45">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>sns.boxplot(x<span class="op">=</span><span class="st">'class_label'</span>,y<span class="op">=</span><span class="st">'tidy_field_len'</span>,data<span class="op">=</span>df_pii_phi_raw)</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Text length per each of classification label PII/PHI and NO-PII/PHI"</span>)</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-46-output-1.png" width="597" height="455" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Our analysis of the data revealed that 484 observations have a text length exceeding 20 characters. Among these longer headers:</p>
<ul>
<li><p>65% contain PII/PHI (Personally Identifiable Information/Protected Health Information). This indicates a significant presence of sensitive data within these headers.</p></li>
<li><p>The remaining 35% do not contain any PII/PHI content.</p></li>
</ul>
<p>We would proceed with next steps as below:</p>
<p><strong>Retain the 65% of headers containing PII/PHI:</strong> These headers are valuable for training our model to identify sensitive information.</p>
<p><strong>Further investigate the non-PII/PHI headers (35%):</strong> We can explore these headers to understand why they were classified as non-sensitive despite their length. This might involve manually reviewing a sample or applying additional criteria to refine the classification.</p>
<p><strong>Decision on Non-PII/PHI headers:</strong> Based on the investigation, we can determine whether to keep these headers in the training data or remove them. Factors to consider might include their informativeness for the model and potential redundancy.</p>
<div id="7ddc958a" class="cell" data-execution_count="46">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>df_pii_phi_tidy <span class="op">=</span> pd.concat(</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>    [</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>        df_pii_phi_raw[df_pii_phi_raw[<span class="st">"tidy_field_len"</span>] <span class="op">&lt;=</span> <span class="dv">20</span>],</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>        df_pii_phi_raw[</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>            (</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>                (df_pii_phi_raw[<span class="st">"tidy_field_len"</span>] <span class="op">&gt;</span> <span class="dv">20</span>)</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>                <span class="op">&amp;</span> (df_pii_phi_raw[<span class="st">"tidy_field_len"</span>] <span class="op">&lt;</span> <span class="dv">50</span>)</span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>            <span class="op">&amp;</span> (df_pii_phi_raw[<span class="st">"class_label"</span>] <span class="op">==</span> <span class="dv">1</span>)</span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>        ],</span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="d3548a2e" class="cell" data-execution_count="47">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a figure and subplots</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>fig, (ax1, ax2) <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">14</span>, <span class="dv">4</span>))</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>p1 <span class="op">=</span> sns.histplot(df_pii_phi_tidy[<span class="st">"tidy_field_len"</span>],ax<span class="op">=</span>ax1)</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>p2 <span class="op">=</span> sns.boxplot(df_pii_phi_tidy[<span class="st">"tidy_field_len"</span>],ax<span class="op">=</span>ax2)</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>p2.set_title(<span class="st">"BoxPlot:After removing the assignable causes"</span>)</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>p1.set_title(<span class="st">"Histogram:After removing the assignable causes"</span>)</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>plt.suptitle(<span class="st">"Header Field Text Length Distribution-Tidy Format"</span>)</span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-48-output-1.png" width="1328" height="377" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Removing assignable causes from the non-PII/PHI text has resulted in a desirable and stable text length distribution. This suggests that the original length variations were likely due to these assignable causes. The cleaned text lengths are now more consistent and suitable for further analysis or model training.</p>
<div id="977c8807" class="cell" data-execution_count="48">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>plt.style.use(<span class="st">'classic'</span>)</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>df_no_of_words <span class="op">=</span> df_pii_phi_tidy[<span class="st">"no_of_words"</span>].value_counts().reset_index()</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="co"># sns.barplot(df_no_of_words, x="no_of_words", y="count")</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a><span class="co"># plt.title("Number of Words Distribution")</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a><span class="co"># plt.show()</span></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Pareto Diagram</span></span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>sorted_data <span class="op">=</span> df_no_of_words.sort_values(by<span class="op">=</span>[<span class="st">"count"</span>], ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>sorted_data[<span class="st">"cumulative_freq"</span>] <span class="op">=</span> sorted_data[<span class="st">"count"</span>].cumsum()</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>sorted_data[<span class="st">"cumulative_pct"</span>] <span class="op">=</span> (</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>    sorted_data[<span class="st">"cumulative_freq"</span>] <span class="op">/</span> sorted_data[<span class="st">"count"</span>].<span class="bu">sum</span>() <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualizations</span></span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>fig, ax1 <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">22</span>, <span class="dv">8</span>))</span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a>ax2 <span class="op">=</span> ax1.twinx()</span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a>ax1.bar(sorted_data[<span class="st">"no_of_words"</span>], sorted_data[<span class="st">"count"</span>], color<span class="op">=</span><span class="st">"blue"</span>)</span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a>ax2.plot(</span>
<span id="cb49-18"><a href="#cb49-18" aria-hidden="true" tabindex="-1"></a>    sorted_data[<span class="st">"no_of_words"</span>],</span>
<span id="cb49-19"><a href="#cb49-19" aria-hidden="true" tabindex="-1"></a>    sorted_data[<span class="st">"cumulative_pct"</span>],</span>
<span id="cb49-20"><a href="#cb49-20" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span><span class="st">"red"</span>,</span>
<span id="cb49-21"><a href="#cb49-21" aria-hidden="true" tabindex="-1"></a>    marker<span class="op">=</span><span class="st">"o"</span>,</span>
<span id="cb49-22"><a href="#cb49-22" aria-hidden="true" tabindex="-1"></a>    linestyle<span class="op">=</span><span class="st">"--"</span>,</span>
<span id="cb49-23"><a href="#cb49-23" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb49-24"><a href="#cb49-24" aria-hidden="true" tabindex="-1"></a>ax1.set_xlabel(<span class="st">"Category"</span>)</span>
<span id="cb49-25"><a href="#cb49-25" aria-hidden="true" tabindex="-1"></a>ax1.set_ylabel(<span class="st">"Frequency"</span>, color<span class="op">=</span><span class="st">"green"</span>)</span>
<span id="cb49-26"><a href="#cb49-26" aria-hidden="true" tabindex="-1"></a>ax2.set_ylabel(<span class="st">"Cumulative Percentage"</span>, color<span class="op">=</span><span class="st">"red"</span>)</span>
<span id="cb49-27"><a href="#cb49-27" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Pareto Analysis-No of Words"</span>)</span>
<span id="cb49-28"><a href="#cb49-28" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb49-29"><a href="#cb49-29" aria-hidden="true" tabindex="-1"></a>sns.set_theme(<span class="st">"notebook"</span>, style<span class="op">=</span><span class="st">"whitegrid"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-49-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p><strong>Inferences</strong></p>
<p>Our Pareto analysis revealed as,</p>
<ol type="1">
<li><p>80% of observations have headers containing only one or two words.</p></li>
<li><p>97% of observations have headers with one to four words.</p></li>
<li><p>Implications for Text-to-Numerical Conversion: These findings suggest that unigrams (single words) and bigrams (two-word phrases) might be sufficient for capturing most of the information within the headers when converting text to numerical features for our model. While trigrams (three-word phrases) could be explored, the high prevalence of shorter phrases suggests that unigrams and bigrams might be a good starting point to balance model complexity and performance.</p></li>
</ol>
<p>The below two tables shows the header text of PII and NO-PII/PHI classes separately.</p>
<div class="cell" data-execution_count="49">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>df_pii_phi_tidy[(df_pii_phi_tidy[<span class="st">"class_label"</span>] <span class="op">==</span> <span class="dv">0</span>) <span class="op">&amp;</span> (df_pii_phi_tidy[<span class="st">"tidy_field_len"</span>]<span class="op">&lt;</span><span class="dv">10</span>)].sample(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="49">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<caption>Sample Data:NO/PII-PHI {#00609d06}</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">_dbas_field_name</th>
<th data-quarto-table-cell-role="th">class_label</th>
<th data-quarto-table-cell-role="th">_dbas_field_name_tidy</th>
<th data-quarto-table-cell-role="th">tidy_field_len</th>
<th data-quarto-table-cell-role="th">no_of_words</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">8350</td>
<td>CUR SAL</td>
<td>0</td>
<td>cur sal</td>
<td>7</td>
<td>2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">14095</td>
<td>YOB_1984</td>
<td>0</td>
<td>yob 1984</td>
<td>8</td>
<td>2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4274</td>
<td>Tier</td>
<td>0</td>
<td>tier</td>
<td>4</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">10321</td>
<td>JandSPerc</td>
<td>0</td>
<td>jandsperc</td>
<td>9</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7423</td>
<td>asofdate</td>
<td>0</td>
<td>asofdate</td>
<td>8</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13772</td>
<td>vac hrs</td>
<td>0</td>
<td>vac hrs</td>
<td>7</td>
<td>2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">13473</td>
<td>TotalHrs??</td>
<td>0</td>
<td>totalhrs</td>
<td>8</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">4142</td>
<td>WILLIAM</td>
<td>0</td>
<td>william</td>
<td>7</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4271</td>
<td>tDob</td>
<td>0</td>
<td>tdob</td>
<td>4</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1457</td>
<td>hicn</td>
<td>0</td>
<td>hicn</td>
<td>4</td>
<td>1</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div class="cell" data-execution_count="50">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>df_pii_phi_tidy[(df_pii_phi_tidy[<span class="st">"class_label"</span>] <span class="op">==</span> <span class="dv">1</span>) <span class="op">&amp;</span> (df_pii_phi_tidy[<span class="st">"tidy_field_len"</span>]<span class="op">&lt;</span><span class="dv">10</span>)].sample(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="50">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<caption>Sample Data:PII-PHI {#ca33fa10}</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">_dbas_field_name</th>
<th data-quarto-table-cell-role="th">class_label</th>
<th data-quarto-table-cell-role="th">_dbas_field_name_tidy</th>
<th data-quarto-table-cell-role="th">tidy_field_len</th>
<th data-quarto-table-cell-role="th">no_of_words</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1272</td>
<td>FFZip</td>
<td>1</td>
<td>ffzip</td>
<td>5</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">6790</td>
<td>ss</td>
<td>1</td>
<td>ss</td>
<td>2</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4538</td>
<td>Address</td>
<td>1</td>
<td>address</td>
<td>7</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">8742</td>
<td>DOBa17</td>
<td>1</td>
<td>doba17</td>
<td>6</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5849</td>
<td>addr2</td>
<td>1</td>
<td>addr2</td>
<td>5</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">12983</td>
<td>SS#</td>
<td>1</td>
<td>ss</td>
<td>2</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5534</td>
<td>zipcode</td>
<td>1</td>
<td>zipcode</td>
<td>7</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2373</td>
<td>PayBTCity</td>
<td>1</td>
<td>paybtcity</td>
<td>9</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">11140</td>
<td>P_ID#</td>
<td>1</td>
<td>p id</td>
<td>4</td>
<td>2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">6229</td>
<td>city_</td>
<td>1</td>
<td>city</td>
<td>4</td>
<td>1</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<p><strong>In order to understand the significance of words within each document and their distinctiveness across all documents, we’ll utilize TF-IDF.</strong></p>
<p><em>TF-IDF stands for Term Frequency-Inverse Document Frequency. It’s a way to evaluate how important a word is to a document in a collection (corpus). It considers two factors:</em></p>
<p><strong>Term Frequency (TF):</strong> How often a word appears in a specific document.</p>
<p><strong>Inverse Document Frequency (IDF):</strong> How common the word is across all documents in the corpus. Words that appear frequently everywhere are considered less informative (low IDF).</p>
<p>By combining these, TF-IDF gives more weight to words that are specific and relevant to a particular document.</p>
<p>As as example we will consider the below table to understand the importance of TF-IDF.</p>
<div class="cell" data-execution_count="51">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>pd.DataFrame(</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">"field"</span>: [</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>            <span class="st">"firstname"</span>,</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>            <span class="st">"lastname"</span>,</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>            <span class="st">"lastname"</span>,</span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>            <span class="st">"socialsecuritynumber"</span>,</span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>            <span class="st">"ssn"</span>,</span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>            <span class="st">"socialsecuritynumber"</span>,</span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>            <span class="st">"address1"</span>,</span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a>            <span class="st">"dateofbirth"</span>,</span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a>            <span class="st">"dateofbirth"</span>,</span>
<span id="cb52-13"><a href="#cb52-13" aria-hidden="true" tabindex="-1"></a>            <span class="st">"dateofbirth"</span>,</span>
<span id="cb52-14"><a href="#cb52-14" aria-hidden="true" tabindex="-1"></a>        ],</span>
<span id="cb52-15"><a href="#cb52-15" aria-hidden="true" tabindex="-1"></a>        <span class="st">"tf-idf"</span>:[<span class="fl">2.3</span>, <span class="fl">1.61</span>, <span class="fl">1.61</span>, <span class="fl">1.61</span>, <span class="fl">2.3</span>, <span class="fl">1.61</span>, <span class="fl">2.3</span>, <span class="fl">1.2</span>, <span class="fl">1.2</span>, <span class="fl">1.2</span>]</span>
<span id="cb52-16"><a href="#cb52-16" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb52-17"><a href="#cb52-17" aria-hidden="true" tabindex="-1"></a>).sort_values(<span class="st">'tf-idf'</span>,ascending<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="51">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<caption>TF-IDF DEMO. {#4896aefa}</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">field</th>
<th data-quarto-table-cell-role="th">tf-idf</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>firstname</td>
<td>2.30</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">4</td>
<td>ssn</td>
<td>2.30</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>address1</td>
<td>2.30</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>lastname</td>
<td>1.61</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>lastname</td>
<td>1.61</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>socialsecuritynumber</td>
<td>1.61</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5</td>
<td>socialsecuritynumber</td>
<td>1.61</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>dateofbirth</td>
<td>1.20</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>dateofbirth</td>
<td>1.20</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>dateofbirth</td>
<td>1.20</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<p><strong>Inferences</strong></p>
<p>Our exploration revealed interesting insights about Term Frequency-Inverse Document Frequency (TF-IDF) values considering the above example table:</p>
<p><strong>Unique Words and High TF-IDF:</strong> Words like “firstname,” “ssn,” and “address1” appeared only once in the corpus, resulting in high TF-IDF values (around 2.30). This is because: - Their TF (Term Frequency) is 1 (appearing once). - Their IDF (Inverse Document Frequency) is likely high because they are uncommon across the documents.</p>
<p><strong>Repeated Words and Lower TF-IDF:</strong> The word “dateofbirth” appeared three times, leading to a lower TF-IDF value (around 1.20). While it still occurs in each document, its higher TF is balanced by a potentially lower IDF due to its presence in multiple documents.</p>
<p>In essence, TF-IDF considers both how often a word appears within a document (TF) and how uncommon it is across the entire document collection (IDF). Words appearing only once tend to have higher TF-IDF because their rarity across documents (high IDF) outweighs their single occurrence within a specific document (TF=1).</p>
<div class="cell" data-execution_count="52">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>pd.DataFrame({<span class="st">'tf_idf'</span>:computeTFIDF(df_pii_phi_tidy[<span class="st">"_dbas_field_name_tidy"</span>])}).describe().reset_index().T</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="52">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<caption>Descriptive Stats on TI-IDF. {#cb1b441a}</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">0</th>
<th data-quarto-table-cell-role="th">1</th>
<th data-quarto-table-cell-role="th">2</th>
<th data-quarto-table-cell-role="th">3</th>
<th data-quarto-table-cell-role="th">4</th>
<th data-quarto-table-cell-role="th">5</th>
<th data-quarto-table-cell-role="th">6</th>
<th data-quarto-table-cell-role="th">7</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">index</td>
<td>count</td>
<td>mean</td>
<td>std</td>
<td>min</td>
<td>25%</td>
<td>50%</td>
<td>75%</td>
<td>max</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">tf_idf</td>
<td>25433.0</td>
<td>4.27692</td>
<td>3.132489</td>
<td>0.37</td>
<td>1.89</td>
<td>2.88</td>
<td>7.46</td>
<td>9.54</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="95f02bc6" class="cell" data-execution_count="53">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>sns.histplot(computeTFIDF(df_pii_phi_tidy[<span class="st">"_dbas_field_name_tidy"</span>]))</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"TF-IDF Distributions"</span>)</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-54-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="7623b139" class="cell" data-execution_count="54">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a figure and subplots</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>fig, (ax1, ax2) <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">14</span>, <span class="dv">6</span>))</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>p1 <span class="op">=</span> sns.histplot(</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>    computeTFIDF(</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>        df_pii_phi_tidy[df_pii_phi_tidy[<span class="st">"class_label"</span>] <span class="op">==</span> <span class="dv">1</span>][<span class="st">"_dbas_field_name_tidy"</span>]</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>    ),ax<span class="op">=</span>ax1</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>p2 <span class="op">=</span> sns.histplot(</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>    computeTFIDF(</span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>        df_pii_phi_tidy[df_pii_phi_tidy[<span class="st">"class_label"</span>] <span class="op">==</span> <span class="dv">0</span>][<span class="st">"_dbas_field_name_tidy"</span>]</span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a>    ),ax<span class="op">=</span>ax2</span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a>p1.set_title(<span class="st">"Histogram: TF-IDF for PII/PHI"</span>)</span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a>p2.set_title(<span class="st">"Histogram: TF-IDF for NO PII-PHI "</span>)</span>
<span id="cb55-15"><a href="#cb55-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-16"><a href="#cb55-16" aria-hidden="true" tabindex="-1"></a>plt.suptitle(<span class="st">"TF-IDF Distributions"</span>)</span>
<span id="cb55-17"><a href="#cb55-17" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb55-18"><a href="#cb55-18" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-55-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p><strong>Inferences</strong></p>
<p>Analysis of TF-IDF Distribution as follows,</p>
<p><strong>Average TF-IDF:</strong> The average TF-IDF value within the corpus is 4.27. This indicates that, on average, words tend to be somewhat specific and informative in relation to the documents they appear in.</p>
<p><strong>Standard Deviation:</strong> The standard deviation of TF-IDF values is 3.13. This suggests a significant spread in TF-IDF values, implying a variety of word specificities within the corpus.</p>
<p><strong>Word Distribution:</strong> We observed that approximately 50% of the words have a TF-IDF value below 3. This suggests a notable presence of repetitive words across the corpus. These words likely contribute less to the overall informational content of individual documents.</p>
<p><strong>Corpus Composition:</strong> Based on the TF-IDF distribution, the corpus appears to be a mixture of unique and non-unique words. The high average TF-IDF and standard deviation indicate the presence of both specific terms and frequently occurring words.</p>
</section>
<section id="develop-potential-solutions" class="level2" data-number="7.2">
<h2 data-number="7.2" class="anchored" data-anchor-id="develop-potential-solutions"><span class="header-section-number">7.2</span> Develop Potential Solutions</h2>
<section id="machinelearning-modeling-classification-problem." class="level3" data-number="7.2.1">
<h3 data-number="7.2.1" class="anchored" data-anchor-id="machinelearning-modeling-classification-problem."><span class="header-section-number">7.2.1</span> MachineLearning Modeling-Classification Problem.</h3>
<section id="data-preparations." class="level4" data-number="7.2.1.1">
<h4 data-number="7.2.1.1" class="anchored" data-anchor-id="data-preparations."><span class="header-section-number">7.2.1.1</span> Data Preparations.</h4>
<p><strong>Text Preprocessing and Feature Engineering for Machine Learning Model.</strong></p>
<p>In our machine learning model development process, we’ll focus on the dbas_field_name_tidy field from the dataset. This field contains the header text, which serves as our input or predictor variable. However, raw text data isn’t directly usable by machine learning algorithms.</p>
<p><strong>Feature Engineering: Text to Numerical Conversion.</strong></p>
<p>To address this challenge, we’ll perform feature engineering by converting the text data in dbas_field_name_tidy into numerical features. We’ll employ TF-IDF (Term Frequency-Inverse Document Frequency) Vectorizer specifically tailored for bigrams (two-word phrases). This technique considers both the frequency of words within a document (TF) and their rarity across the entire dataset (IDF). By focusing on bigrams, we leverage the insights from our earlier analysis indicating a predominance of short phrases within the header text.</p>
<p><strong>Target Variable</strong></p>
<p>Our model aims to perform a binary classification task. The target variable, named classlabel, is a two-class variable containing values of 0 or 1. These values correspond to the presence or absence of PII and PHI within the data:</p>
<ul>
<li>0: Represents data that does NOT contain PII/PHI.</li>
<li>1: Represents data that contains PII/PHI</li>
</ul>
<div id="3a770025" class="cell" data-execution_count="55">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>dbas_corpus <span class="op">=</span> df_pii_phi_tidy[<span class="st">"_dbas_field_name_tidy"</span>]</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>dbas_vectorizer <span class="op">=</span> TfidfVectorizer(ngram_range<span class="op">=</span>(<span class="dv">1</span>, <span class="dv">2</span>), stop_words<span class="op">=</span><span class="st">"english"</span>)</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>dbas_pii_phi_vectors <span class="op">=</span> dbas_vectorizer.fit_transform(dbas_corpus)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="8f5f2a38" class="cell" data-execution_count="56">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>y_target <span class="op">=</span> df_pii_phi_tidy[<span class="st">"class_label"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="model-validation" class="level4" data-number="7.2.1.2">
<h4 data-number="7.2.1.2" class="anchored" data-anchor-id="model-validation"><span class="header-section-number">7.2.1.2</span> Model Validation:</h4>
<p>Our machine learning project utilizes a dataset containing approximately 13,000 observations. As described earlier, these observations possess clearly defined input and output variables.</p>
<p>In machine learning, we train models on input data. The model learns patterns and relationships within the data and uses these to make predictions on unseen examples. While a model might perform well on the data it’s trained on, its performance on unseen data is crucial.</p>
<p>Here’s where the concepts of overfitting and underfitting come into play:</p>
<p><strong>Overfitting:</strong> This occurs when a model becomes too attuned to the specific training data and fails to generalize well to unseen examples. It essentially “memorizes” the training data instead of learning the underlying patterns.</p>
<p><strong>Underfitting:</strong> This happens when a model is too simple and lacks the capacity to capture the essential relationships within the training data. It leads to poor performance on both the training data and unseen data.</p>
<p><strong>Mitigating Overfitting and Underfitting:</strong></p>
<p>Fortunately, we can employ various model validation techniques to assess a model’s generalizability and address overfitting or underfitting issues. These techniques allow us to evaluate a model’s performance on unseen data and ensure it can effectively learn and apply its knowledge to new scenarios.</p>
</section>
<section id="traintest-validation" class="level4" data-number="7.2.1.3">
<h4 data-number="7.2.1.3" class="anchored" data-anchor-id="traintest-validation"><span class="header-section-number">7.2.1.3</span> Train/Test Validation</h4>
<p>This is the simplest and most common validation technique. Here’s how it works:</p>
<p><em>1.Split the data into two sets: training data (usually 70-80%) and testing data (remaining 20-30%).</em></p>
<p><em>2.Train the model on the training data.</em></p>
<p><em>3.Evaluate the model’s performance on the unseen testing data.</em></p>
<p>This gives us an idea of how well the model generalizes to new data.</p>
<p>For the Current problem-To evaluate the generalizability of our machine learning model, I’ll be utilizing the train-test split validation approach with an 80/20 split. and its summary as follows.</p>
<div id="764e0a9f" class="cell" data-execution_count="57">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Data splitting</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>X_train_header_text, X_test_header_text, Y_train_PIIPHI_flag, Y_test_PIIPHI_flag <span class="op">=</span> (</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>    train_test_split(</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>        dbas_pii_phi_vectors.toarray(), y_target, random_state<span class="op">=</span><span class="dv">2021</span>, test_size<span class="op">=</span><span class="fl">0.20</span></span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tbl-letters" class="quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-letters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;11: Train/Test Validation
</figcaption>
<div aria-describedby="tbl-letters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table">
<thead>
<tr class="header">
<th>Type</th>
<th>Size</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Total</td>
<td>13963</td>
</tr>
<tr class="even">
<td>Train</td>
<td>11170</td>
</tr>
<tr class="odd">
<td>Test</td>
<td>2793</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
</section>
</section>
<section id="priliminary-machinelearning-modeling." class="level3" data-number="7.2.2">
<h3 data-number="7.2.2" class="anchored" data-anchor-id="priliminary-machinelearning-modeling."><span class="header-section-number">7.2.2</span> Priliminary MachineLearning Modeling.</h3>
<section id="logisticregressionbagging-and-boostingrandomforest-and-xgboost" class="level4" data-number="7.2.2.1">
<h4 data-number="7.2.2.1" class="anchored" data-anchor-id="logisticregressionbagging-and-boostingrandomforest-and-xgboost"><span class="header-section-number">7.2.2.1</span> LogisticRegression,Bagging and Boosting(RandomForest and XGBoost)</h4>
<p><strong>Logistic Regression:</strong></p>
<ol type="1">
<li><p><strong>Simple and interpretable:</strong> Easy to understand and diagnose potential issues.</p></li>
<li><p><strong>Works well for binary classification:</strong> Suitable for predicting probabilities of belonging to one of two classes (0 or 1).</p></li>
<li><p><strong>May struggle with complex relationships:</strong> Limited ability to handle highly non-linear data.</p></li>
</ol>
<p><strong>Random Forest(Bagging):</strong></p>
<ol type="1">
<li><p><strong>Ensemble method:</strong> Combines multiple decision trees for improved accuracy and robustness.</p></li>
<li><p><strong>Handles complex data well:</strong> Can capture non-linear relationships effectively.</p></li>
<li><p><strong>Less interpretable:</strong> Can be difficult to understand the inner workings of the model.</p></li>
</ol>
<p><strong>XGBoost(Boosting):</strong></p>
<ol type="1">
<li><p><strong>Powerful ensemble method:</strong> Often achieves high accuracy on various machine learning tasks.</p></li>
<li><p><strong>Flexible and efficient:</strong> Handles different data types and scales well for large datasets.</p></li>
<li><p><strong>Hyperparameter tuning can be complex:</strong> Requires careful selection of model parameters for optimal performance.</p></li>
</ol>
<div id="a8158642" class="cell" data-execution_count="58">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># model_dbas_LRC = LogisticRegression()</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="co"># model_dbas_LRC.fit(X_train_header_text, Y_train_PIIPHI_flag)</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a><span class="co"># los_pred = model_dbas_LRC.predict(X_train_header_text)</span></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a><span class="co"># los_pred_ = model_dbas_LRC.predict(X_test_header_text)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="9a1d5055" class="cell" data-execution_count="59">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co"># custom_classification_metrics_report("LogisticRegression-Traininig", Y_train_PIIPHI_flag, los_pred)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="683a571e" class="cell" data-execution_count="60">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="co"># custom_classification_metrics_report("LogisticRegression-Testing", Y_test_PIIPHI_flag, los_pred_)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="5fe6303a" class="cell" data-execution_count="61">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co"># _model_RFC_tuned = RandomForestClassifier(</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="co">#     n_estimators=200, max_depth=30, max_features=60, random_state=2024</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a><span class="co"># )</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="237277bd" class="cell" data-execution_count="62">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co"># _model_RFC_tuned.fit(X_train_header_text, Y_train_PIIPHI_flag)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="c70febfd" class="cell" data-execution_count="63">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co"># los_tr_preds_rf = _model_RFC_tuned.predict(X_train_header_text)</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="co"># los_tes_preds_rf = _model_RFC_tuned.predict(X_test_header_text)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="priliminary-machinelearning-model-summary-report." class="level4" data-number="7.2.2.2">
<h4 data-number="7.2.2.2" class="anchored" data-anchor-id="priliminary-machinelearning-model-summary-report."><span class="header-section-number">7.2.2.2</span> Priliminary MachineLearning Model Summary Report.</h4>
<div id="0751c7db" class="cell" data-execution_count="64">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>df_metric <span class="op">=</span> pd.read_excel(<span class="vs">r'/Users/malleshamyamulla/Desktop/SSBBA/MBB_PROJECT/data/ssbba_model_metrics_v1.xlsx'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="65">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>df_metric</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="65">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<caption>Classification Model Summary Table {#f3be14dd}</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">ModelType</th>
<th data-quarto-table-cell-role="th">Accuracy</th>
<th data-quarto-table-cell-role="th">ROC-AUC</th>
<th data-quarto-table-cell-role="th">F1</th>
<th data-quarto-table-cell-role="th">Precision</th>
<th data-quarto-table-cell-role="th">Recall</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>LogisticRegression-Traininig</td>
<td>0.88747</td>
<td>0.73692</td>
<td>0.63869</td>
<td>0.95529</td>
<td>0.47971</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>LogisticRegression-Testing</td>
<td>0.87504</td>
<td>0.70946</td>
<td>0.58600</td>
<td>0.93561</td>
<td>0.42660</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>RandomForest-Training</td>
<td>0.98827</td>
<td>0.98766</td>
<td>0.97213</td>
<td>0.95807</td>
<td>0.98661</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>RandomForest-Testing</td>
<td>0.58145</td>
<td>0.71304</td>
<td>0.48160</td>
<td>0.32399</td>
<td>0.93782</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>XGBoost-Tranining</td>
<td>0.88568</td>
<td>0.73419</td>
<td>0.63294</td>
<td>0.94669</td>
<td>0.47539</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>XGBoost-Testing</td>
<td>0.87325</td>
<td>0.71407</td>
<td>0.59122</td>
<td>0.89199</td>
<td>0.44214</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<p><strong>Here are the few points about priliminary model performances.</strong></p>
<p><strong>Training vs.&nbsp;Testing Performance:</strong></p>
<p><em>All models have a significant drop in performance between the training and testing data. This suggests potential overfitting, especially for Random Forest.</em></p>
<p><strong>Model-Specific Observations:</strong></p>
<p><strong>1.Logistic Regression:</strong></p>
<p><em>1.Training accuracy (0.887) is reasonable, but ROC-AUC (0.737) suggests it might not be the best at distinguishing classes.</em></p>
<p><em>2.Precision (0.955) is high, indicating the model rarely makes false positives when predicting the positive class.</em></p>
<p><em>3.However, recall (0.480) is low, meaning it misses many actual positive cases</em></p>
<p><strong>2.Random Forest:</strong></p>
<p><em>1.Training performance is very high (accuracy and F1-score near 1), but testing performance is significantly lower (accuracy 0.581). This is a clear case of overfitting. The model memorized the training data and performs poorly on unseen data.</em></p>
<p><strong>3.XGBoost:</strong></p>
<p><em>1.Similar to Logistic Regression, training and testing performance show a gap, but it’s less severe than Random Forest. Performance metrics are comparable to Logistic Regression, with slightly lower precision and recall.</em></p>
<p><strong>Conclusion:</strong></p>
<p>Based on this limited data, Logistic Regression or XGBoost might be better initial choices for this task. However, further investigation is needed.</p>
</section>
</section>
<section id="experimentationsmachinelearning-models-dealing-with-class-imbalance-problem." class="level3" data-number="7.2.3">
<h3 data-number="7.2.3" class="anchored" data-anchor-id="experimentationsmachinelearning-models-dealing-with-class-imbalance-problem."><span class="header-section-number">7.2.3</span> Experimentations:MachineLearning Models-Dealing with Class Imbalance Problem.</h3>
<p>From the above summary table- three of the model’s precision is greater than to recall indicate a strong bias towards precision at the cost of recall. Let’s break down what this means:</p>
<p><strong>High Precision(0.95):</strong></p>
<p>Out of all the positive predictions of our model made, 95.0% were actually correct. In other words, the model is very good at avoiding false positives (classifying something positive when it’s actually negative).</p>
<p><strong>Low Recall (0.42):</strong></p>
<p>This is the concerning aspect. Out of all the actual positive cases in your data, the model only identified 42.0%. This means the model misses a significant portion of the true positives, resulting in false negatives (failing to classify something positive that actually is positive).</p>
<p><strong>Interpretation:</strong></p>
<p>This suggests our model prioritizes precision over recall. It excels at identifying truly positive cases but misses many of them overall. This could be because:</p>
<ol type="1">
<li><p>The data itself might be imbalanced, with far fewer positive cases than negative cases. The model learns to be cautious and avoids classifying things as positive unless very certain, leading to many false negatives.</p></li>
<li><p>The model training might be biased towards precision. Techniques like adjusting class weights or choosing an appropriate cost function during training could influence this bias.</p></li>
</ol>
<p><strong>Impact:</strong></p>
<ol type="1">
<li><p>The impact of this bias depends on our specific application. In some cases, precision is more crucial. For instance, a Document Classifier with high precision might be desirable to avoid mistakenly marking important elements as PII/PHI (even if it misses NO-PII/PHI).</p></li>
<li><p>However, in many scenarios, missing a significant portion of positive cases (low recall) could be detrimental. For example, The same Document Classifier with low recall might miss many actual PII/PHI elements, leading to missed Potential Sensitive Informations to be extracted.</p></li>
</ol>
<p><strong>Recommendations:</strong></p>
<div id="3d937d11" class="cell" data-execution_count="66">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>sns.countplot(df_pii_phi_tidy,x<span class="op">=</span><span class="st">'class_label'</span>)</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-67-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p><em>1.Our exploration of the data indicates a potential class imbalance issue for our machine learning classification model. As observed in the visualization, approximately 20% of the data points are classified as PII/PHI (positive class), while the remaining 80% belong to the NO-PII/PHI category (negative class).</em></p>
<p><em>2.Class imbalance occurs when a dataset has a significant difference in the number of examples between different classes. In our case, the positive class (PII/PHI) has a considerably lower representation compared to the negative class (NO-PII/PHI).</em></p>
<p><em>3.This class imbalance can negatively impact the performance of machine learning classification models. Many algorithms tend to prioritize the majority class during training, leading to poorer performance in classifying the minority class (PII/PHI in our case).</em></p>
<p>Found thtat data has class imbalance, we can address it through techniques like oversampling or undersampling.</p>
<p><strong>Class Imbalance Solution Techniques:</strong></p>
<p><strong>1.Oversampling:</strong></p>
<ul>
<li><p>Increases the number of data points in the minority class.</p></li>
<li><p>Techniques like duplicate sampling or Synthetic Minority Oversampling Technique (SMOTE) can be used.</p></li>
<li><p><strong>Benefit:</strong> Helps the model learn the characteristics of the minority class more effectively.</p></li>
<li><p><strong>Drawback:</strong> Can lead to overfitting if not done carefully.</p></li>
</ul>
<p><strong>2.Undersampling:</strong></p>
<ul>
<li><p>Reduces the number of data points in the majority class.</p></li>
<li><p>Techniques like random undersampling or near-miss sampling can be used.</p></li>
<li><p><strong>Benefit:</strong> Creates a more balanced dataset for training.</p></li>
<li><p><strong>Drawback:</strong> Can lead to loss of information from the majority class.</p></li>
</ul>
<div id="tbl-letters" class="quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-letters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;12: ClassImbalance Technique Metrics
</figcaption>
<div aria-describedby="tbl-letters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table">
<thead>
<tr class="header">
<th>type</th>
<th>sampling_tech</th>
<th>model</th>
<th>roc_auc</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>UNDER</td>
<td>random</td>
<td>LogisticRegression</td>
<td>0.84</td>
</tr>
<tr class="even">
<td>UNDER</td>
<td>random</td>
<td>RanddomForest</td>
<td>0.72</td>
</tr>
<tr class="odd">
<td>UNDER</td>
<td>random</td>
<td>XGBoost</td>
<td>0.77</td>
</tr>
<tr class="even">
<td>OVER</td>
<td>random</td>
<td>LogisticRegression</td>
<td>0.86</td>
</tr>
<tr class="odd">
<td>OVER</td>
<td>random</td>
<td>RanddomForest</td>
<td>0.77</td>
</tr>
<tr class="even">
<td>OVER</td>
<td>random</td>
<td>XGBoost</td>
<td>0.80</td>
</tr>
<tr class="odd">
<td>OVER</td>
<td>SMOTE</td>
<td>LogisticRegression</td>
<td>0.87</td>
</tr>
<tr class="even">
<td>OVER</td>
<td>SMOTE</td>
<td>RanddomForest</td>
<td>0.74</td>
</tr>
<tr class="odd">
<td>OVER</td>
<td>SMOTE</td>
<td>XGBoost</td>
<td>0.82</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>From the above table OVER SAMPLE could be the choice for our classification model</p>
<ol type="1">
<li><p>The provided table summarizes the performance of various machine learning models trained on a potentially imbalanced dataset.</p></li>
<li><p>The table compares the impact of undersampling (UNDER) and oversampling (OVER) techniques, along with the baseline performance without sampling (type absent).</p></li>
<li><p>We’ve also explored the effect of using SMOTE (Synthetic Minority Oversampling Technique) within the oversampling approach.</p></li>
</ol>
<p><strong>Oversampling Potential:</strong> Based on the results, oversampling techniques (particularly OVER-SMOTE) generally yielded comparable or slightly better ROC-AUC scores for Logistic Regression and XGBoost compared to undersampling or no sampling. However, Random Forest performance seems less affected by the sampling technique.</p>
<p>SMOTE creates new data points for the minority class, essentially adding synthetic neighbors to existing minority examples. This helps the machine learning model learn the minority class better. this has been considered for doing the over sampling within our data. the oversampled data will be trained and analyzed in the next steps.</p>
</section>
<section id="machinelearning-model-tuningevaluatingselectioninterpreting-and-finalizing." class="level3" data-number="7.2.4">
<h3 data-number="7.2.4" class="anchored" data-anchor-id="machinelearning-model-tuningevaluatingselectioninterpreting-and-finalizing."><span class="header-section-number">7.2.4</span> MachineLearning Model Tuning,Evaluating,Selection,Interpreting and Finalizing.</h3>
<p>The below table shows that the data has been balanced, with each class in the target variable having the same number of data points.</p>
<div id="tbl-letters" class="quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-letters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;13: ClassLabel Counts afer OverSampling
</figcaption>
<div aria-describedby="tbl-letters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table">
<thead>
<tr class="header">
<th>classlabel</th>
<th>total</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>0</td>
<td>8854</td>
</tr>
<tr class="even">
<td>1</td>
<td>8854</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>To train the machine learning model, we will follow these steps:</p>
<p><strong>1.Hyperparameter tuning:</strong></p>
<p>We will use GridSearchCV to optimize the parameters of each classifier. This ensures we find the best settings for each model’s performance.</p>
<p><strong>2.Model evaluation:</strong></p>
<p>We will evaluate the resulting models using metrics like accuracy and ROC_AUC. This helps us compare their performance and identify the most effective model.</p>
<p><strong>3.Model selection:</strong></p>
<p>Based on the evaluation results and specified requirements, we will select the best performing classifier for our needs.</p>
<p>Through hyperparameter tuning, we found these parameters to be most effective for training each classification model:</p>
<div id="tbl-letters" class="quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-letters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;14: Parameter Tuning
</figcaption>
<div aria-describedby="tbl-letters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table">
<colgroup>
<col style="width: 38%">
<col style="width: 61%">
</colgroup>
<thead>
<tr class="header">
<th>model</th>
<th>recommended_parameters</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Logistic Regression</td>
<td>penalty:L2,C:1.0,fit_intercept:True,solver:liblinear</td>
</tr>
<tr class="even">
<td>Bagging(RandomForest)</td>
<td>max_depth:30,max_features:60,n_estimators:200</td>
</tr>
<tr class="odd">
<td>Boosting(XGBOOST )</td>
<td>gamma:0,learning_rate:0.05,max_depth:5,reg_lambda:5</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<div id="3ee4a684" class="cell" data-execution_count="67">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>custom_SMOTE_spec <span class="op">=</span> SMOTE(random_state<span class="op">=</span><span class="dv">2024</span>)</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>X_header_SMOTE, Y_pii_phi_SMOTE <span class="op">=</span> custom_SMOTE_spec.fit_resample(</span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>    X_train_header_text, Y_train_PIIPHI_flag</span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="32d563d9" class="cell" data-execution_count="68">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>model_dbas_LRC <span class="op">=</span> LogisticRegression()</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>model_dbas_LRC.fit(X_header_SMOTE, Y_pii_phi_SMOTE)</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>los_pred <span class="op">=</span> model_dbas_LRC.predict(X_header_SMOTE)</span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>los_pred_ <span class="op">=</span> model_dbas_LRC.predict(X_test_header_text)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="logistic-regression." class="level4" data-number="7.2.4.1">
<h4 data-number="7.2.4.1" class="anchored" data-anchor-id="logistic-regression."><span class="header-section-number">7.2.4.1</span> Logistic Regression.</h4>
<div id="6d0d560e" class="cell" data-execution_count="69">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>custom_classification_metrics_report(<span class="st">'LogisticRegression-Training'</span>,Y_pii_phi_SMOTE,los_pred)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>-------------------------------------------------------------------
LogisticRegression-Training#:ConfusionMatrix and ROC-AUC Curve
-------------------------------------------------------------------</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-70-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-70-output-3.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display" data-execution_count="69">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Accuracy</th>
<th data-quarto-table-cell-role="th">ROC-AUC</th>
<th data-quarto-table-cell-role="th">F1-Score</th>
<th data-quarto-table-cell-role="th">Precision</th>
<th data-quarto-table-cell-role="th">Recall</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">LogisticRegression-Training</td>
<td>0.89863</td>
<td>0.89863</td>
<td>0.89037</td>
<td>0.96941</td>
<td>0.82324</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="2288996b" class="cell" data-execution_count="70">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>custom_classification_metrics_report(<span class="st">'LogisticRegression-Testing'</span>,Y_test_PIIPHI_flag,los_pred_)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>-------------------------------------------------------------------
LogisticRegression-Testing#:ConfusionMatrix and ROC-AUC Curve
-------------------------------------------------------------------</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-71-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-71-output-3.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display" data-execution_count="70">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Accuracy</th>
<th data-quarto-table-cell-role="th">ROC-AUC</th>
<th data-quarto-table-cell-role="th">F1-Score</th>
<th data-quarto-table-cell-role="th">Precision</th>
<th data-quarto-table-cell-role="th">Recall</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">LogisticRegression-Testing</td>
<td>0.88507</td>
<td>0.78466</td>
<td>0.68865</td>
<td>0.7854</td>
<td>0.61313</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</section>
<section id="baggingrandomforest." class="level4" data-number="7.2.4.2">
<h4 data-number="7.2.4.2" class="anchored" data-anchor-id="baggingrandomforest."><span class="header-section-number">7.2.4.2</span> Bagging(RandomForest).</h4>
<div id="9d121e16" class="cell" data-execution_count="71">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>_model_RFC_tuned <span class="op">=</span> RandomForestClassifier(</span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>    n_estimators<span class="op">=</span><span class="dv">200</span>, max_depth<span class="op">=</span><span class="dv">30</span>, max_features<span class="op">=</span><span class="dv">60</span>,random_state<span class="op">=</span><span class="dv">2024</span>,</span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>_model_RFC_tuned.fit(X_header_SMOTE, Y_pii_phi_SMOTE)</span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a>los_tr_preds_rf <span class="op">=</span> _model_RFC_tuned.predict(X_header_SMOTE)</span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a>los_tes_preds_rf <span class="op">=</span> _model_RFC_tuned.predict(X_test_header_text)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="ca3c3aa7" class="cell" data-execution_count="72">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>custom_classification_metrics_report(</span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Bagging-Training"</span>, Y_pii_phi_SMOTE, los_tr_preds_rf</span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>-------------------------------------------------------------------
Bagging-Training#:ConfusionMatrix and ROC-AUC Curve
-------------------------------------------------------------------</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-73-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-73-output-3.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display" data-execution_count="72">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Accuracy</th>
<th data-quarto-table-cell-role="th">ROC-AUC</th>
<th data-quarto-table-cell-role="th">F1-Score</th>
<th data-quarto-table-cell-role="th">Precision</th>
<th data-quarto-table-cell-role="th">Recall</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Bagging-Training</td>
<td>0.77987</td>
<td>0.77987</td>
<td>0.72193</td>
<td>0.97986</td>
<td>0.57149</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="1d2a801f" class="cell" data-execution_count="73">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>custom_classification_metrics_report(</span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Bagging-Testing"</span>, Y_test_PIIPHI_flag, los_tes_preds_rf</span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>-------------------------------------------------------------------
Bagging-Testing#:ConfusionMatrix and ROC-AUC Curve
-------------------------------------------------------------------</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-74-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-74-output-3.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display" data-execution_count="73">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Accuracy</th>
<th data-quarto-table-cell-role="th">ROC-AUC</th>
<th data-quarto-table-cell-role="th">F1-Score</th>
<th data-quarto-table-cell-role="th">Precision</th>
<th data-quarto-table-cell-role="th">Recall</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Bagging-Testing</td>
<td>0.88006</td>
<td>0.74897</td>
<td>0.64475</td>
<td>0.83516</td>
<td>0.52504</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</section>
<section id="boostingxgboost." class="level4" data-number="7.2.4.3">
<h4 data-number="7.2.4.3" class="anchored" data-anchor-id="boostingxgboost."><span class="header-section-number">7.2.4.3</span> Boosting(XGBoost).</h4>
<div id="a338bab3" class="cell" data-execution_count="74">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>_model_XGB_D_tuned <span class="op">=</span> xgb.XGBClassifier(objective<span class="op">=</span><span class="st">"binary:logistic"</span>, seed<span class="op">=</span><span class="dv">2024</span>)</span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>_model_XGB_D_tuned.fit(X_header_SMOTE, Y_pii_phi_SMOTE)</span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>los_tr_preds_XGB <span class="op">=</span> _model_XGB_D_tuned.predict(X_header_SMOTE)</span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a>los_tes_preds_XGB <span class="op">=</span> _model_XGB_D_tuned.predict(X_test_header_text)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="48805857" class="cell" data-execution_count="75">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>custom_classification_metrics_report(<span class="st">'Boosting-Training'</span>,Y_pii_phi_SMOTE,los_tr_preds_XGB)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>-------------------------------------------------------------------
Boosting-Training#:ConfusionMatrix and ROC-AUC Curve
-------------------------------------------------------------------</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-76-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-76-output-3.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display" data-execution_count="75">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Accuracy</th>
<th data-quarto-table-cell-role="th">ROC-AUC</th>
<th data-quarto-table-cell-role="th">F1-Score</th>
<th data-quarto-table-cell-role="th">Precision</th>
<th data-quarto-table-cell-role="th">Recall</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Boosting-Training</td>
<td>0.80602</td>
<td>0.80602</td>
<td>0.76474</td>
<td>0.97146</td>
<td>0.63056</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="ea690d07" class="cell" data-execution_count="76">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>custom_classification_metrics_report(<span class="st">'Boosting-Testing'</span>,Y_test_PIIPHI_flag,los_tes_preds_XGB)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>-------------------------------------------------------------------
Boosting-Testing#:ConfusionMatrix and ROC-AUC Curve
-------------------------------------------------------------------</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-77-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ISI_SSBBA_Book_files/figure-html/cell-77-output-3.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display" data-execution_count="76">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Accuracy</th>
<th data-quarto-table-cell-role="th">ROC-AUC</th>
<th data-quarto-table-cell-role="th">F1-Score</th>
<th data-quarto-table-cell-role="th">Precision</th>
<th data-quarto-table-cell-role="th">Recall</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Boosting-Testing</td>
<td>0.88042</td>
<td>0.75366</td>
<td>0.65063</td>
<td>0.82493</td>
<td>0.53713</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</section>
<section id="model-selection-and-interpretations." class="level4" data-number="7.2.4.4">
<h4 data-number="7.2.4.4" class="anchored" data-anchor-id="model-selection-and-interpretations."><span class="header-section-number">7.2.4.4</span> Model Selection and Interpretations.</h4>
<div id="177b6680" class="cell" data-execution_count="77">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>df_metric_final <span class="op">=</span> pd.read_excel(<span class="vs">r'/Users/malleshamyamulla/Desktop/SSBBA/MBB_PROJECT/data/sds_final_model_metrics.xlsx'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="78">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>df_metric_final</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="78">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<caption>Model Selection {#e9986e31}</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">ModelType</th>
<th data-quarto-table-cell-role="th">Accuracy</th>
<th data-quarto-table-cell-role="th">ROC-AUC</th>
<th data-quarto-table-cell-role="th">F1</th>
<th data-quarto-table-cell-role="th">Precision</th>
<th data-quarto-table-cell-role="th">Recall</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>LogisticRegression-Traininig</td>
<td>0.89863</td>
<td>0.89863</td>
<td>0.89037</td>
<td>0.96941</td>
<td>0.82324</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>LogisticRegression-Testing</td>
<td>0.88507</td>
<td>0.78466</td>
<td>0.68865</td>
<td>0.78540</td>
<td>0.61313</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>RandomForest-Training</td>
<td>0.77987</td>
<td>0.77987</td>
<td>0.72193</td>
<td>0.97986</td>
<td>0.57149</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>RandomForest-Testing</td>
<td>0.88006</td>
<td>0.74897</td>
<td>0.64475</td>
<td>0.83516</td>
<td>0.52504</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>XGBoost-Tranining</td>
<td>0.80602</td>
<td>0.80602</td>
<td>0.76474</td>
<td>0.97146</td>
<td>0.63056</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>XGBoost-Testing</td>
<td>0.88042</td>
<td>0.75366</td>
<td>0.65063</td>
<td>0.82493</td>
<td>0.53713</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<p><strong>Accuracy:</strong> <em>This represents the overall percentage of correct predictions made by the model. Here, all models performed well in training (around 80-90% accuracy). However, in testing with unseen data, their accuracy dropped slightly (around 88%)</em>.</p>
<p><strong>ROC-AUC:</strong> <em>This metric measures how well the model distinguishes between positive and negative cases. All models have similar ROC-AUC scores in both training and testing, indicating a decent ability to differentiate classes.</em></p>
<p><strong>1.Logistic Regression:</strong></p>
<ul>
<li><em>This model’s performance dropped the most between training and testing (accuracy -1%, ROC-AUC -12%). This suggests some overfitting on the training data.</em></li>
</ul>
<p><strong>2.Random Forest:</strong></p>
<ul>
<li><em>This model’s performance improved slightly in testing compared to training for accuracy (+10%) but dropped a bit for other metrics (F1, Precision, Recall). This could indicate some issues with model complexity or randomness in the forest.</em></li>
</ul>
<p><strong>3.XGBoost:</strong></p>
<ul>
<li><p><em>XGBoost achieved a slight improvement in testing accuracy (+7%) compared to Random Forest and Logistic Regression.</em></p></li>
<li><p><em>Other Metrics such as F1, Precision, and Recall scores decreased slightly compared to its training performance, they remain better overall than those of Random Forest and Logistic Regression.</em></p></li>
<li><p><em>With larger datasets, XGBoost’s performance across all metrics may improve further. We would be investigating hyperparameter tuning to optimize XGBoost for even better results in future experiments.</em></p></li>
</ul>
<p><strong>After evaluating several models, XGBoost emerged as the most effective option for classifying PII/PHI and NO-PII/PHI data within documents.</strong></p>
</section>
</section>
<section id="machinelearning-model-deployment-in-streamlit-cloud-app." class="level3" data-number="7.2.5">
<h3 data-number="7.2.5" class="anchored" data-anchor-id="machinelearning-model-deployment-in-streamlit-cloud-app."><span class="header-section-number">7.2.5</span> MachineLearning Model Deployment in Streamlit Cloud App.</h3>
<p>Having proven its effectiveness in predicting PII/PHI and NO-PII/PHI elements, the final XGBoost model is now deployed on Streamlit Cloud. This means we can easily access it through your web browser for convenient predictions.</p>
<p>Please click on the below blue color text or copy the URL to view it in browser.</p>
<p><a href="https://ssbbba2024-sxsvtbi6newjbkauulyan7.streamlit.app">Deployed Demo App:</a></p>
<p><strong>URL Link:</strong> <code>https://ssbbba2024-sxsvtbi6newjbkauulyan7.streamlit.app</code></p>
</section>
</section>
<section id="propose-validate-new-process." class="level2" data-number="7.3">
<h2 data-number="7.3" class="anchored" data-anchor-id="propose-validate-new-process."><span class="header-section-number">7.3</span> Propose &amp; Validate New Process.</h2>
<section id="new-process-flow-diagram." class="level3" data-number="7.3.1">
<h3 data-number="7.3.1" class="anchored" data-anchor-id="new-process-flow-diagram."><span class="header-section-number">7.3.1</span> New Process Flow Diagram.</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="DBAS_SDS_PII.png" class="img-fluid figure-img"></p>
<figcaption>DBAS-Classification New Process Automation</figcaption>
</figure>
</div>
<section id="streamlining-information-review-and-extraction." class="level4" data-number="7.3.1.1">
<h4 data-number="7.3.1.1" class="anchored" data-anchor-id="streamlining-information-review-and-extraction."><span class="header-section-number">7.3.1.1</span> Streamlining Information Review and Extraction.</h4>
<p>This new process automation is a game-changer! It will significantly improve our ability to review and extract information with both speed and accuracy. Here’s how:</p>
<p><strong>Reduced Manual Effort:</strong> Manual tasks will be minimized, freeing up valuable human resources for other critical activities.</p>
<p><strong>Enhanced Accuracy:</strong> Automation helps to reduce human error, leading to more accurate information extraction.</p>
<p>The provided process flow diagram offers a clear picture of how automation integrates into the new approach:</p>
<p><strong>1.Data Gathering:</strong> Information is efficiently collected from various sources like databases and files.</p>
<p><strong>2.Automated Classification and Extraction:</strong> The data is then fed into a machine learning (ML) PII/PHI classifier, which acts as the automation tool. This powerful tool excels at identifying and extracting the desired information (PII/PHI and NO-PII/PHI elements) with impressive precision.</p>
<p><strong>3.Seamless Integration with Existing Automation:</strong> Once the ML classifier completes the extraction phase, the remaining data mining steps seamlessly integrate with existing rule-based and fuzzy-based techniques. These established automation methods further accelerate the overall process.</p>
<p><strong>4. Human Oversight Ensures Quality:</strong> While automation takes center stage, human expertise remains crucial. Analysts will review a representative sample of the extracted data by the classifier. This human oversight ensures that any missed or overly classified information is carefully addressed, guaranteeing the highest quality results.</p>
<p>This combined approach, leveraging the power of automation and human expertise, promises a significant leap forward in information review and extraction efficiency.</p>
</section>
</section>
</section>
</section>
<section id="dmaic-control" class="level1" data-number="8">
<h1 data-number="8"><span class="header-section-number">8</span> DMAIC: Control</h1>
<section id="establish-improved-performance." class="level2" data-number="8.1">
<h2 data-number="8.1" class="anchored" data-anchor-id="establish-improved-performance."><span class="header-section-number">8.1</span> Establish Improved Performance.</h2>
<p>In an improve phase we have developed an automation to address the root causes which hamper thes document classifications accuracies, extractions difficulties such as more number of sheets, big data, etc etc.</p>
<p>We haven’t applied it on the ongoing process to see the results how it is performing, as stated in the new proposed process we will implement the automation on good number of projects atleaset 50, will record all the required metrics such how much time it takes to complete the phase-1 tasks, classification accuracies, false positive, false negative ratios, notification delivery time, how are the complex files being handled, how much time it spent for processing big data etc. etc. So that we would be able to infer how much the new process has been improved caluclating the Cp,Cpk,SigmaLevel and DPMo.</p>
<section id="addressing-challenges-and-measuring-improvement" class="level3" data-number="8.1.1">
<h3 data-number="8.1.1" class="anchored" data-anchor-id="addressing-challenges-and-measuring-improvement"><span class="header-section-number">8.1.1</span> Addressing Challenges and Measuring Improvement</h3>
<p>We’ve developed an innovative automation solution to tackle the root causes behind classification inaccuracies and extraction difficulties. These challenges often arise due to factors like a high number of document sheets and large data volumes.</p>
</section>
<section id="pilot-testing-and-metrics-collection" class="level3" data-number="8.1.2">
<h3 data-number="8.1.2" class="anchored" data-anchor-id="pilot-testing-and-metrics-collection"><span class="header-section-number">8.1.2</span> Pilot Testing and Metrics Collection</h3>
<p>Before integrating automation into ongoing processes, we’ll conduct a pilot test on a significant number of projects (at least 50). During this pilot, we’ll meticulously record key metrics to gauge the effectiveness of the new approach. These metrics will include:</p>
<p><strong>1.Phase-1 Completion Time:</strong> We’ll track how much faster the new process completes the initial tasks compared to the current approach.</p>
<p><strong>2.Classification Accuracy:</strong> This will measure the ability of the automation to correctly identify PII/PHI and NO-PII/PHI elements.</p>
<p><strong>3.Error Rates:</strong> We’ll monitor both false positive (incorrectly identified PII/PHI) and false negative (missed PII/PHI) rates.</p>
<p><strong>4.Notification Delivery Time:</strong> We’ll assess how quickly the data breach notification lists are prepared.</p>
<p><strong>5.Complex File Handling:</strong> We’ll evaluate the automation’s efficiency in processing documents with a large number of sheets.</p>
<p><strong>6.Big Data Processing Time:</strong> We’ll measure the time taken to process large datasets.</p>
</section>
<section id="evaluating-success-with-statistical-methods" class="level3" data-number="8.1.3">
<h3 data-number="8.1.3" class="anchored" data-anchor-id="evaluating-success-with-statistical-methods"><span class="header-section-number">8.1.3</span> Evaluating Success with Statistical Methods</h3>
<p>By collecting this comprehensive data, we can calculate metrics like Cp, Cpk, Sigma Level, and DPMO. These statistical tools will provide a clear picture of how significantly the new process has improved overall efficiency and accuracy.</p>
<p>This pilot testing approach allows us to assess the automation’s impact in a controlled environment before full-scale deployment. The gathered data and subsequent analysis will provide objective evidence of the new process’s effectiveness.</p>
</section>
</section>
<section id="control-plan" class="level2" data-number="8.2">
<h2 data-number="8.2" class="anchored" data-anchor-id="control-plan"><span class="header-section-number">8.2</span> Control Plan</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="C_CONTROL_PLAN.png" class="img-fluid figure-img"></p>
<figcaption>DBAS-Control Plan</figcaption>
</figure>
</div>
</section>
<section id="project-sign-off" class="level2" data-number="8.3">
<h2 data-number="8.3" class="anchored" data-anchor-id="project-sign-off"><span class="header-section-number">8.3</span> Project Sign-Off</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="C_SIGN_OFF.png" class="img-fluid figure-img"></p>
<figcaption>DBAS-Project Sign-OFF</figcaption>
</figure>
</div>
</section>
<section id="project-summary" class="level2" data-number="8.4">
<h2 data-number="8.4" class="anchored" data-anchor-id="project-summary"><span class="header-section-number">8.4</span> Project Summary</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="C_PSUMMARY.png" class="img-fluid figure-img"></p>
<figcaption>DBAS-Project Summary</figcaption>
</figure>
</div>
</section>
<section id="executive-summary" class="level2" data-number="8.5">
<h2 data-number="8.5" class="anchored" data-anchor-id="executive-summary"><span class="header-section-number">8.5</span> Executive Summary</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="C_ESUMMARY.png" class="img-fluid figure-img"></p>
<figcaption>DBAS-Executive Summary</figcaption>
</figure>
</div>
</section>
</section>
<section id="bibliography" class="level1" data-number="9">
<h1 data-number="9"><span class="header-section-number">9</span> Bibliography</h1>
<section id="refereces-books-and-tools" class="level2" data-number="9.1">
<h2 data-number="9.1" class="anchored" data-anchor-id="refereces-books-and-tools"><span class="header-section-number">9.1</span> Refereces-Books and Tools</h2>
<ol type="1">
<li><p><a href="https://islp.readthedocs.io/en/latest/">ISLP</a></p></li>
<li><p><a href="https://wesmckinney.com/book/">Python for data analysis</a></p></li>
<li><p><a href="https://docs.pola.rs">Polars for data analysis</a></p></li>
<li><p><a href="https://tellingstorieswithdata.com">Stories with data</a></p></li>
<li><p><a href="https://openintro-ims.netlify.app">Modern Statistics</a></p></li>
<li><p><a href="https://moderndive.com">Inferential Statistics</a></p></li>
<li><p><a href="https://feaz-book.com">FeatureEngineering</a></p></li>
<li><p><a href="https://aml4td.org">Applied Machine Learning</a></p></li>
<li><p>Six Sigma-Green Belt(Advanced) by GMR- ISI,Hyderabad.</p></li>
<li><p>StatQuest Illustrated Guide to MachineLearning.</p></li>
<li><p><a href="https://scikit-learn.org/stable/">Python-MachineLearning</a></p></li>
<li><p><a href="https://seaborn.pydata.org">Data Visualization</a></p></li>
<li><p><a href="https://jupyter.org">Code Editor-1</a></p></li>
<li><p><a href="https://code.visualstudio.com">Code Editor-2</a></p></li>
<li><p><a href="https://streamlit.io">App Deployment</a></p></li>
<li><p><a href="https://quarto.org">NoteBook and Documentation</a></p></li>
</ol>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>